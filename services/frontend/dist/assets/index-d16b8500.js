var Y=Object.defineProperty;var J=(o,t,s)=>t in o?Y(o,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):o[t]=s;var m=(o,t,s)=>(J(o,typeof t!="symbol"?t+"":t,s),s);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))a(n);new MutationObserver(n=>{for(const r of n)if(r.type==="childList")for(const i of r.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&a(i)}).observe(document,{childList:!0,subtree:!0});function s(n){const r={};return n.integrity&&(r.integrity=n.integrity),n.referrerPolicy&&(r.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?r.credentials="include":n.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function a(n){if(n.ep)return;n.ep=!0;const r=s(n);fetch(n.href,r)}})();const k=class k{constructor(){m(this,"componentHooks",new WeakMap);m(this,"currentComponent",null);m(this,"renderQueue",new Set);m(this,"isScheduled",!1)}static getInstance(){return k.instance||(k.instance=new k),k.instance}setCurrentComponent(t){this.currentComponent=t,this.componentHooks.has(t)||this.componentHooks.set(t,{states:[],effects:[],memos:[],refs:[],currentStateIndex:0,currentEffectIndex:0,currentMemoIndex:0,currentRefIndex:0});const s=this.componentHooks.get(t);s.currentStateIndex=0,s.currentEffectIndex=0,s.currentMemoIndex=0,s.currentRefIndex=0}scheduleUpdate(t){if(!t){console.warn("scheduleUpdate called with null/undefined component");return}if(typeof t.isMountedComponent=="function"&&!t.isMountedComponent()){console.warn("Attempting to update unmounted component");return}this.renderQueue.add(t),this.isScheduled||(this.isScheduled=!0,Promise.resolve().then(()=>{this.flushUpdates()}))}getCurrentComponentHooks(){if(!this.currentComponent)throw new Error("Hooks can only be called inside components during render");return this.componentHooks.get(this.currentComponent)}getCurrentComponent(){return this.currentComponent}clearCurrentComponent(){this.currentComponent=null}flushUpdates(){const t=Array.from(this.renderQueue);this.renderQueue.clear(),this.isScheduled=!1,t.forEach(s=>{if(s&&!(typeof s.isMountedComponent=="function"&&!s.isMountedComponent()))if(typeof s.update=="function")try{s.update()}catch(a){console.error("Error updating component:",a)}else console.warn("Component does not have update method:",s)})}cleanup(t){const s=this.componentHooks.get(t);s&&(s.effects.forEach(a=>{if(a.cleanup)try{a.cleanup()}catch(n){console.error("Error during effect cleanup:",n)}}),this.componentHooks.delete(t)),this.renderQueue.delete(t)}getComponentHooks(t){return this.componentHooks.get(t)}getRenderQueueSize(){return this.renderQueue.size}forceFlushUpdates(){this.renderQueue.size>0&&this.flushUpdates()}};m(k,"instance");let E=k;function L(o,t){const a=E.getInstance().getCurrentComponentHooks(),n=a.currentMemoIndex++;n>=a.memos.length&&a.memos.push({value:o(),dependencies:[...t]});const r=a.memos[n];return(!r.dependencies||t.length!==r.dependencies.length||t.some((l,c)=>!Object.is(l,r.dependencies[c])))&&(r.value=o(),r.dependencies=[...t]),r.value}function f(o,t){return L(()=>o,t)}function w(o,t){const a=E.getInstance().getCurrentComponentHooks(),n=a.currentEffectIndex++;n>=a.effects.length&&a.effects.push({value:null,dependencies:void 0});const r=a.effects[n];(!t||!r.dependencies||t.length!==r.dependencies.length||t.some((l,c)=>!Object.is(l,r.dependencies[c])))&&(r.cleanup&&r.cleanup(),Promise.resolve().then(()=>{const l=o();r.cleanup=typeof l=="function"?l:void 0}),r.dependencies=t?[...t]:void 0)}function d(o){const t=E.getInstance(),s=t.getCurrentComponentHooks(),a=s.currentStateIndex++;a>=s.states.length&&(console.log("first init in useState"),s.states.push({value:o}));const n=s.states[a],r=t.getCurrentComponent(),i=l=>{const c=typeof l=="function"?l(n.value):l;console.log("nextValue : ",c," | ",n.value),Object.is(n.value,c)||(n.value=c,r?typeof r.isMountedComponent=="function"&&r.isMountedComponent()&&t.scheduleUpdate(r):console.warn("setState called without component context - component may have been unmounted"))};return[n.value,i]}function Z(o,t=null,...s){if(typeof o=="function")return o({...t,children:s});const a=s.flat(1/0).filter(n=>n!=null&&typeof n<"u"&&typeof n!="boolean").map(n=>typeof n=="string"||typeof n=="number"?ee(String(n)):n);return{type:o,props:t||{},children:a,key:t==null?void 0:t.key}}function ee(o){return{type:"TEXT_NODE",props:{textContent:o},children:[]}}const e=Z,te=o=>{const t=o&&typeof o.initialCount=="number"?o.initialCount:0,[s,a]=d(t),[n,r]=d([]);w(()=>{console.log("Regex Counter changed:",s),r(g=>[...g,s])},[s]);const i=f(()=>a(g=>g+1),[]),l=f(()=>a(g=>g-1),[]),c=f(()=>a(0),[]),h=L(()=>n.length>0?n.reduce((g,x)=>g+x,0)/n.length:0,[n]);return e("div",{className:"counter-example p-6 bg-white rounded-lg shadow-lg"},e("h2",{className:"text-2xl font-bold mb-4"},"Enhanced Counter"),e("div",{className:"text-center mb-4"},e("span",{className:"text-4xl font-mono"},s.toString())),e("div",{className:"flex gap-2 justify-center mb-4"},e("button",{onClick:i,className:"px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600"},"+"),e("button",{onClick:l,className:"px-4 py-2 bg-red-500 text-white rounded hover:bg-red-600"},"-"),e("button",{onClick:c,className:"px-4 py-2 bg-gray-500 text-white rounded hover:bg-gray-600"},"Reset")),e("div",{className:"text-sm text-gray-600"},e("p",null,`History: ${n.slice(-5).join(", ")}`),e("p",null,`Average: ${h.toFixed(2)}`)))},se=()=>{const[o,t]=d(!0),[s,a]=d({email:"",username:"",password:"",confirmPassword:""}),n=f(()=>t(!0),[]),r=f(()=>t(!1),[]),i=f(x=>{x.preventDefault(),console.log("Login attempt:",{email:s.email,password:s.password})},[s]),l=f(x=>{x.preventDefault(),console.log("Register attempt:",s)},[s]),c=f(()=>{console.log("Google login")},[]),h=f(()=>{console.log("Discord login")},[]),g=f(()=>{console.log("42 login")},[]);return e("div",{className:"min-h-screen flex flex-col md:flex-row overflow-hidden bg-[#1B191D] text-white font-['Roboto']",style:{fontFamily:"Roboto, sans-serif"}},e("div",{className:"z-20 w-full md:w-2/5 flex flex-col justify-center items-center pb-[260px] px-8 py-12 min-h-screen md:min-h-0"},e("div",{className:"flex flex-col items-center space-y-8 w-full max-w-md"},e("img",{src:"/images/PingPongName.svg",alt:"GameName",className:"w-48 mb-4 md:mb-12 transform transition-transform duration-300 hover:scale-105"}),e("h1",{className:"text-3xl md:text-4xl font-bold text-center transform transition-all duration-300 hover:scale-[1.02]"},"Are you ready to play!"),e("img",{src:"/src/pages/html/mrbean-open.webp",alt:"Mr Bean",className:"relative top-[68px] w-48 transform transition-transform duration-300 hover:scale-105"}),e("div",{className:"w-full relative h-64",style:{perspective:"1000px"}},e("form",{className:`absolute w-full space-y-4 origin-center transition-all duration-600 ${o?"opacity-100 visible pointer-events-auto":"opacity-0 invisible pointer-events-none"}`,style:{transform:o?"translateX(0) rotateY(0)":"translateX(-100%) rotateY(90deg)",zIndex:o?10:1},onSubmit:i},e("div",{className:"flex flex-col space-y-2"},e("input",{key:`${o?"login":"register"}-email`,type:"text",placeholder:"Email or Username",className:"w-full p-3 bg-gray-800 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#c04623] transform transition-all duration-300 hover:scale-[1.02]",value:s.email,tabIndex:o?0:-1}),e("input",{key:`${o?"login":"register"}-email`,type:"password",placeholder:"Password",className:"w-full p-3 bg-gray-800 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#c04623] transform transition-all duration-300 hover:scale-[1.02]",value:s.password,tabIndex:o?0:-1}),e("button",{type:"submit",className:"w-full py-3 bg-[#c04623] rounded-lg font-semibold hover:opacity-90 transition-opacity transform hover:scale-[1.02] duration-300",tabIndex:o?0:-1},"Sign In"))),e("form",{className:`absolute w-full space-y-4 origin-center transition-all duration-600 ${o?"opacity-0 invisible pointer-events-none":"opacity-100 visible pointer-events-auto"}`,style:{transform:o?"translateX(100%) rotateY(-90deg)":"translateX(0) rotateY(0)",zIndex:o?1:10},onSubmit:l},e("div",{className:"flex flex-col space-y-2"},e("input",{type:"email",placeholder:"Email",className:"w-full p-3 bg-gray-800 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#c04623] transform transition-all duration-300 hover:scale-[1.02]",value:s.email,tabIndex:o?-1:0}),e("input",{type:"text",placeholder:"Username",className:"w-full p-3 bg-gray-800 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#c04623] transform transition-all duration-300 hover:scale-[1.02]",value:s.username,tabIndex:o?-1:0}),e("input",{type:"password",placeholder:"Password",className:"w-full p-3 bg-gray-800 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#c04623] transform transition-all duration-300 hover:scale-[1.02]",value:s.password,tabIndex:o?-1:0}),e("input",{type:"password",placeholder:"Confirm Password",className:"w-full p-3 bg-gray-800 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#c04623] transform transition-all duration-300 hover:scale-[1.02]",value:s.confirmPassword,tabIndex:o?-1:0}),e("button",{type:"submit",className:"w-full py-3 bg-[#c04623] rounded-lg font-semibold hover:opacity-90 transition-opacity transform hover:scale-[1.02] duration-300",tabIndex:o?-1:0},"Create Account")))),e("div",{className:"relative w-full max-w-[300px] mb-6"},e("div",{className:"flex gap-4 w-full relative"},e("button",{onClick:n,className:`flex-1 py-2 rounded-lg font-semibold transition-all duration-300 relative z-10 ${o?"text-white":"text-gray-400"}`},e("span",{className:"relative z-20"},"Login")),e("button",{onClick:r,className:`flex-1 py-2 rounded-lg font-semibold transition-all duration-300 relative z-10 ${o?"text-gray-400":"text-white"}`},e("span",{className:"relative z-20"},"Register")),e("div",{className:"absolute bottom-0 h-full bg-[#c04623] rounded-lg transition-all duration-500",style:{width:"50%",left:o?"0%":"50%",transitionTimingFunction:"cubic-bezier(0.4,0,0.2,1)"}}))),e("div",{className:"flex justify-center space-x-7 mt-8"},e("a",{href:"#",onClick:c,className:"transform transition-all duration-300 hover:scale-110"},e("img",{src:"/images/Google.svg",alt:"Google",className:"w-12 h-12"})),e("a",{href:"#",onClick:h,className:"transform transition-all duration-300 hover:scale-110"},e("img",{src:"/images/Discord.svg",alt:"Discord",className:"w-12 h-12"})),e("a",{href:"#",onClick:g,className:"transform transition-all duration-300 hover:scale-110"},e("img",{src:"/images/42.svg",alt:"42",className:"w-12 h-12"}))))),e("div",{className:"hidden md:block absolute right-0 top-0 h-full w-full overflow-hidden"},e("img",{src:"/images/Background.svg",alt:"background",className:"h-full w-full object-cover transform transition-all duration-1000 hover:scale-105"})))};class ae{constructor(t){m(this,"routes",new Map);m(this,"currentRoute","");m(this,"container");m(this,"currentComponent",null);m(this,"cleanupCallback");const s=document.getElementById(t);if(!s)throw new Error(`Container with id '${t}' not found`);this.container=s,window.addEventListener("popstate",this.handlePopState.bind(this))}handlePopState(){this.currentRoute=window.location.pathname,this.renderCurrentRoute()}setCleanupCallback(t){this.cleanupCallback=t}render(t){this.currentComponent&&this.currentComponent.isMountedComponent()&&(console.log("Router: Unmounting previous component"),this.currentComponent.unmount()),this.cleanupCallback&&this.cleanupCallback(),this.container.innerHTML="",t.mount(this.container),this.currentComponent=t,console.log("Router: Mounted new component for route:",this.currentRoute)}renderCurrentRoute(){const t=this.routes.get(this.currentRoute);if(t){const s=t();this.render(s)}else console.warn(`No route found for path: ${this.currentRoute}`),this.currentComponent&&this.currentComponent.isMountedComponent()&&(this.currentComponent.unmount(),this.currentComponent=null)}start(){this.currentRoute=window.location.pathname||"/",this.renderCurrentRoute()}addRoute(t,s){this.routes.set(t,s)}navigate(t){t!==this.currentRoute&&(this.currentRoute=t,history.pushState(null,"",t),this.renderCurrentRoute())}getCurrentRoute(){return this.currentRoute}destroy(){this.currentComponent&&this.currentComponent.isMountedComponent()&&(this.currentComponent.unmount(),this.currentComponent=null),this.cleanupCallback&&this.cleanupCallback(),window.removeEventListener("popstate",this.handlePopState.bind(this))}}function ne(o,t){o||console.log(`// OLD VNODE TREE
const oldVNode = null;`),console.log(""),t||console.log(`// NEW VNODE TREE
const newVNode = null;`)}const S=class S{constructor(){m(this,"patchQueue",[])}static getInstance(){return S.instance||(S.instance=new S),S.instance}diff(t,s){return this.patchQueue=[],ne(t,s),this.diffNodes(t,s),[...this.patchQueue]}diffNodes(t,s){if(!t&&s){this.patchQueue.push({type:"CREATE",vnode:s});return}if(t&&!s){this.patchQueue.push({type:"REMOVE",element:t.element});return}if(!(!t&&!s)&&!(!t||!s)){if(t.type!==s.type){this.patchQueue.push({type:"REPLACE",vnode:s,element:t.element});return}if(s.type==="TEXT_NODE"){t.props.textContent!==s.props.textContent&&this.patchQueue.push({type:"UPDATE",element:t.element,props:{textContent:s.props.textContent}}),s.element=t.element;return}this.diffProps(t,s),this.diffChildren(t,s),s.element=t.element}}diffProps(t,s){const a=t.props||{},n=s.props||{},r={};let i=!1;for(const l in n)l==="children"||l==="key"||a[l]!==n[l]&&(r[l]=n[l],i=!0);for(const l in a)l==="children"||l==="key"||l in n||(r[l]=null,i=!0,console.log(`üóëÔ∏è Prop removed: ${l}`));i&&this.patchQueue.push({type:"UPDATE",element:t.element,props:r})}diffChildren(t,s){const a=t.children||[],n=s.children||[],r=Math.max(a.length,n.length);for(let i=0;i<r;i++){const l=a[i]||null,c=n[i]||null;if(!l&&c){this.patchQueue.push({type:"CREATE_CHILD",vnode:c,parent:t.element,index:i});continue}if(l&&!c){this.patchQueue.push({type:"REMOVE_CHILD",element:l.element,parent:t.element});continue}l&&c&&this.diffNodes(l,c)}}};m(S,"instance");let R=S;const I=class I{constructor(){m(this,"vdom",R.getInstance())}static getInstance(){return I.instance||(I.instance=new I),I.instance}createElement(t){if(t.type==="TEXT_NODE"){const a=document.createTextNode(t.props.textContent||"");return t.element=a,a}if(typeof t.type=="function"){const a=t.type(t.props),n=this.createElement(a);return t.element=n,n}const s=document.createElement(t.type);return t.element=s,this.setProps(s,t.props),t.children.forEach(a=>{const n=this.createElement(a);s.appendChild(n)}),s}patch(t,s){s.forEach((a,n)=>{switch(a.type){case"CREATE":if(a.vnode){const r=this.createElement(a.vnode);t.appendChild(r)}break;case"REMOVE":a.element&&a.element.parentNode&&a.element.parentNode.removeChild(a.element);break;case"REPLACE":if(a.vnode&&a.element&&a.element.parentNode){const r=this.createElement(a.vnode);a.element.parentNode.replaceChild(r,a.element)}break;case"UPDATE":a.element&&a.props&&(a.element instanceof Text?(a.element.textContent,a.element.textContent=a.props.textContent):this.setProps(a.element,a.props));break;case"CREATE_CHILD":if(a.vnode&&a.parent){const r=this.createElement(a.vnode);a.index!==void 0&&a.index<a.parent.children.length?a.parent.insertBefore(r,a.parent.children[a.index]):a.parent.appendChild(r)}break;case"REMOVE_CHILD":a.element&&a.parent&&a.parent.contains(a.element)&&a.parent.removeChild(a.element);break;default:console.warn("‚ö†Ô∏è Unknown patch type:",a)}}),console.log(`‚úÖ Applied all ${s.length} patches`)}setProps(t,s){for(const a in s){if(a==="key")continue;const n=s[a];if(a==="ref"&&typeof n=="function"){n(t);continue}if(a.startsWith("on")&&typeof n=="function"){const r=a.slice(2).toLowerCase(),i=t[`__${a}`];i&&t.removeEventListener(r,i),t.addEventListener(r,n),t[`__${a}`]=n;continue}if(a==="className"){t.className=n||"";continue}if(a==="style"&&typeof n=="object"){Object.assign(t.style,n);continue}n==null?t.removeAttribute(a):t.setAttribute(a,String(n))}}};m(I,"instance");let j=I;const v=class v{constructor(){}static getInstance(){return this.instance||(this.instance=new v),this.instance}static scheduleUpdate(t,s="normal"){(s==="high"?this.priorityQueue:this.updateQueue).add(t),this.rafId||(this.rafId=requestAnimationFrame(()=>{this.flushUpdates()}))}static flushUpdates(){const t=performance.now();try{const s=Array.from(this.priorityQueue),a=Array.from(this.updateQueue);this.priorityQueue.clear(),this.updateQueue.clear(),this.rafId=null,[...s,...a].forEach(n=>{try{n()}catch(r){console.error("Update error:",r)}}),this.metrics.batchCount++,this.metrics.updateCount+=s.length+a.length}finally{const a=performance.now()-t;this.updateTimes.push(a),this.updateTimes.length>this.MAX_UPDATE_HISTORY&&this.updateTimes.shift(),this.metrics.lastUpdateTime=a,this.metrics.averageUpdateTime=this.updateTimes.reduce((n,r)=>n+r,0)/this.updateTimes.length}}static cancelUpdates(){this.rafId&&(cancelAnimationFrame(this.rafId),this.rafId=null),this.updateQueue.clear(),this.priorityQueue.clear()}static memoize(t,s={}){const a=s.namespace||`fn_${++this.functionCounter}`,{keyFn:n=(...l)=>JSON.stringify(l),ttl:r=this.CACHE_TTL,maxSize:i=this.MAX_CACHE_SIZE}=s;return(...l)=>{const c=n(...l),h=`${a}:${c}`,g=Date.now(),x=this.memoCache.get(h);if(x&&g-x.timestamp<r)return x.accessCount++,this.metrics.cacheHits++,x.value;this.metrics.cacheMisses++;const C=t(...l);return this.memoCache.set(h,{value:C,timestamp:g,accessCount:1}),this.cleanupNamespaceCache(a,i),C}}static cleanupNamespaceCache(t,s){const a=Array.from(this.memoCache.entries()).filter(([i])=>i.startsWith(`${t}:`));if(a.length<=s)return;const n=Date.now();a.forEach(([i,l])=>{n-l.timestamp>this.CACHE_TTL&&this.memoCache.delete(i)});const r=Array.from(this.memoCache.entries()).filter(([i])=>i.startsWith(`${t}:`));r.length>s&&r.sort(([,c],[,h])=>c.accessCount-h.accessCount).slice(0,Math.floor(s*.2)).forEach(([c])=>this.memoCache.delete(c))}static cleanupCache(){const t=Date.now(),s=Array.from(this.memoCache.entries());s.forEach(([a,n])=>{t-n.timestamp>this.CACHE_TTL&&this.memoCache.delete(a)}),this.memoCache.size>=this.MAX_CACHE_SIZE&&s.filter(([r])=>this.memoCache.has(r)).sort(([,r],[,i])=>r.accessCount-i.accessCount).slice(0,Math.floor(this.MAX_CACHE_SIZE*.2)).forEach(([r])=>this.memoCache.delete(r))}static clearMemoCache(t){t?Array.from(this.memoCache.keys()).filter(a=>a.startsWith(`${t}:`)).forEach(a=>this.memoCache.delete(a)):(this.memoCache.clear(),this.metrics.cacheHits=0,this.metrics.cacheMisses=0)}static getCacheStats(t){const s=Array.from(this.memoCache.entries()),a=t?s.filter(([r])=>r.startsWith(`${t}:`)):s,n=Date.now();return{size:a.length,entries:a.map(([r,i])=>({key:t?r.substring(t.length+1):r,accessCount:i.accessCount,age:n-i.timestamp}))}}static debounce(t,s){let a;return(...n)=>{clearTimeout(a),a=window.setTimeout(()=>t(...n),s)}}static throttle(t,s){let a;return(...n)=>{a||(t(...n),a=!0,setTimeout(()=>a=!1,s))}}static batch(t,s=10,a=16){let n=[],r;return i=>{n.push(i),n.length>=s?(t([...n]),n=[],clearTimeout(r)):(clearTimeout(r),r=window.setTimeout(()=>{n.length>0&&(t([...n]),n=[])},a))}}static getMetrics(){const t={...this.metrics,cacheSize:this.memoCache.size,queueSize:this.updateQueue.size+this.priorityQueue.size,namespaceBreakdown:this.getNamespaceBreakdown()};if("memory"in performance){const s=performance.memory;t.memoryUsage={used:s.usedJSHeapSize,total:s.jsHeapSizeLimit,percentage:s.usedJSHeapSize/s.jsHeapSizeLimit*100}}return t}static getNamespaceBreakdown(){const t={};for(const[s]of this.memoCache){const a=s.indexOf(":");if(a!==-1){const n=s.substring(0,a);t[n]=(t[n]||0)+1}}return t}static resetMetrics(){this.metrics={updateCount:0,batchCount:0,cacheHits:0,cacheMisses:0,averageUpdateTime:0,lastUpdateTime:0},this.updateTimes=[]}static triggerCleanup(){this.cleanupCache(),this.updateQueue.size>100&&(console.warn("Large update queue detected, clearing..."),this.updateQueue.clear()),"gc"in window&&typeof window.gc=="function"&&window.gc()}static startMonitoring(t=3e4){const s=setInterval(()=>{if("memory"in performance){const a=performance.memory;a.usedJSHeapSize/a.jsHeapSizeLimit*100>80&&(console.warn("High memory usage detected, triggering cleanup"),this.triggerCleanup())}},t);return()=>{clearInterval(s)}}static optimizeImageLoading(){const t=document.querySelectorAll("img[data-src]"),s=new IntersectionObserver(n=>{n.forEach(r=>{if(r.isIntersecting){const i=r.target;i.src=i.dataset.src||"",i.removeAttribute("data-src"),s.unobserve(i)}})});t.forEach(n=>s.observe(n)),document.querySelectorAll("img[data-preload]").forEach(n=>{const r=document.createElement("link");r.rel="preload",r.as="image",r.href=n.src,document.head.appendChild(r)})}static monitorMemory(){if("memory"in performance){console.log("i am in monitoryMemory");const t=performance.memory;t.usedJSHeapSize/t.jsHeapSizeLimit*100>80&&(console.warn("High memory usage detected, triggering cleanup"),this.triggerCleanup())}}static optimizeComponent(t,s={}){let a=t;return s.memoize&&(a=this.memoize(a)),s.debounce&&(a=this.debounce(a,s.debounce)),s.throttle&&(a=this.throttle(a,s.throttle)),a}};m(v,"instance"),m(v,"rafId",null),m(v,"updateQueue",new Set),m(v,"priorityQueue",new Set),m(v,"memoCache",new Map),m(v,"functionCounter",0),m(v,"MAX_CACHE_SIZE",1e3),m(v,"CACHE_TTL",5*60*1e3),m(v,"metrics",{updateCount:0,batchCount:0,cacheHits:0,cacheMisses:0,averageUpdateTime:0,lastUpdateTime:0}),m(v,"updateTimes",[]),m(v,"MAX_UPDATE_HISTORY",100);let N=v;function B(o){const s=E.getInstance().getCurrentComponentHooks(),a=s.currentRefIndex++;return a>=s.refs.length&&s.refs.push({value:{current:o}}),s.refs[a].value}class H{constructor(t={}){m(this,"element");m(this,"props");m(this,"state");m(this,"hooksManager",E.getInstance());m(this,"renderer",j.getInstance());m(this,"vdom",R.getInstance());m(this,"currentVNode",null);m(this,"isMounted",!1);m(this,"updateScheduled",!1);this.props=t,this.state={},this.element=document.createElement("div")}setState(t,s){const a=this.state;this.state={...this.state,...t},this.hasStateChanged(a,this.state)&&(this.scheduleUpdate(),s&&N.scheduleUpdate(s))}hasStateChanged(t,s){const a=Object.keys(t),n=Object.keys(s);return a.length!==n.length?!0:a.some(r=>!Object.is(t[r],s[r]))}scheduleUpdate(){!this.updateScheduled&&this.isMounted&&(this.updateScheduled=!0,N.scheduleUpdate(()=>{this.updateScheduled=!1,this.update()}))}update(){if(this.isMounted){this.hooksManager.setCurrentComponent(this);try{const t=this.render();this.isVNode(t)?this.renderVirtualDOMWithDiffing(t):this.renderTraditionalDOM(t),"componentDidUpdate"in this&&typeof this.componentDidUpdate=="function"&&this.componentDidUpdate()}catch(t){const s=t;console.error("Component render error:",s),this.renderErrorState(s)}finally{this.hooksManager.clearCurrentComponent()}}}isVNode(t){return t&&typeof t=="object"&&"type"in t&&"props"in t}renderVirtualDOMWithDiffing(t){const s=this.element.parentNode;if(!s){console.error("Component element has no parent node");return}if(this.currentVNode===null){console.log("new VNode:",t);const a=this.renderer.createElement(t);if(t.props.ref&&typeof t.props.ref=="object"&&(console.log("Setting ref for new VNode:",t.props.ref),t.props.ref.current=a),!(a instanceof HTMLElement)){console.error("Rendered VNode did not produce an HTMLElement");return}s.replaceChild(a,this.element),this.element=a,this.currentVNode=t}else{const a=this.vdom.diff(this.currentVNode,t);t.props.ref&&typeof t.props.ref=="object"&&(console.log("Setting ref for existing VNode:",t.props.ref),t.props.ref.current=this.element),a.length>0&&this.renderer.patch(this.element,a),this.currentVNode=t}}renderTraditionalDOM(t){this.element.parentNode&&this.element.parentNode.replaceChild(t,this.element),this.element=t}mount(t){if(this.isMounted){console.warn("Component is already mounted");return}this.hooksManager.setCurrentComponent(this);try{"componentWillMount"in this&&typeof this.componentWillMount=="function"&&this.componentWillMount();const s=this.render();if(this.isVNode(s)){const a=document.createElement("div");a.style.display="contents",this.element=a,t.appendChild(this.element),this.currentVNode=null,this.renderVirtualDOMWithDiffing(s),console.log("MOUNTED VDOM COMPONENT")}else console.log(" MOUNTED TRADITIONAL COMPONENT"),this.element=s,t.appendChild(this.element);this.isMounted=!0,"componentDidMount"in this&&typeof this.componentDidMount=="function"&&this.componentDidMount()}catch(s){console.error("Component mount error:",s),this.renderErrorState(s),t.appendChild(this.element)}finally{this.hooksManager.clearCurrentComponent()}}unmount(){if(this.isMounted)try{"componentWillUnmount"in this&&typeof this.componentWillUnmount=="function"&&this.componentWillUnmount(),this.hooksManager.cleanup(this),this.element.parentNode&&this.element.parentNode.removeChild(this.element),this.currentVNode=null,this.isMounted=!1}catch(t){console.error("Component unmount error:",t)}}renderErrorState(t){const s=document.createElement("div");s.className="component-error",s.innerHTML=`
      <div style="padding: 1rem; border: 1px solid #ff6b6b; background: #ffe0e0; border-radius: 4px;">
        <h3 style="margin: 0 0 0.5rem 0; color: #d63031;">Component Error</h3>
        <p style="margin: 0; font-size: 0.9rem; color: #2d3436;">${t.message}</p>
      </div>
    `,this.element.parentNode&&this.element.parentNode.replaceChild(s,this.element),this.element=s}forceUpdate(){this.isMounted&&this.update()}getProps(){return Object.freeze({...this.props})}getState(){return Object.freeze({...this.state})}isMountedComponent(){return this.isMounted}addEventListener(t,s,a,n){const r=a.bind(this);return t.addEventListener(s,r,n),()=>{t.removeEventListener(s,r,n)}}useState(t){if(this.hooksManager.getCurrentComponent()!==this)throw new Error("useState must be called during component render");return d(t)}useEffect(t,s){if(this.hooksManager.getCurrentComponent()!==this)throw new Error("useEffect must be called during component render");return w(t,s)}useMemo(t,s){if(this.hooksManager.getCurrentComponent()!==this)throw new Error("useMemo must be called during component render");return L(t,s)}useRef(t){if(this.hooksManager.getCurrentComponent()!==this)throw new Error("useRef must be called during component render");return B(t)}useCallback(t,s){if(this.hooksManager.getCurrentComponent()!==this)throw new Error("useCallback must be called during component render");return f(t,s)}}const re=()=>{const[o,t]=d(!0),[s,a]=d({username:"",email:"",password:"",confirmPassword:""}),n=f(()=>t(!0),[]),r=f(()=>t(!1),[]),i=f((c,h)=>{a(g=>({...g,[c]:h}))},[]),l=f(async c=>{if(c.preventDefault(),!o&&s.password!==s.confirmPassword){alert("Passwords don't match!");return}try{const h=o?"api/users/login":"api/users/register",g=o?{username:s.username,password:s.password}:{username:s.username,password:s.password,email:s.email};console.log(`http://${{}.VITE_USER_SERVICE_HOST}:${{}.VITE_USER_SERVICE_PORT}/${h}`);const x=await fetch(`http://${{}.VITE_USER_SERVICE_HOST}:${{}.VITE_USER_SERVICE_PORT}/${h}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(g)});if(!x.ok){const C=await x.json();throw new Error(C.message||"Authentication failed")}window.location.href="/home"}catch(h){console.error("Authentication error:",h),h instanceof Error?alert(h.message||"An error occurred during authentication"):alert("An unknown error occurred")}},[s,o]);return e("div",{className:"relative min-h-screen bg-cover bg-center",style:{backgroundImage:"url(/images/bg-login.png)"}},e("div",{className:"absolute  left-6 flex md:top-6   items-center text-white gap-0"},e("img",{src:"/images/logo.png",alt:"logo",className:"w-10 h-10"}),e("h2",{className:"text-xl italic font-semibold"},"The Game")),e("div",{className:"flex flex-col md:flex-row-reverse w-full h-[calc(100vh-5rem)]"},e("div",{className:"flex justify-center items-center w-full md:w-1/2"},e("div",{className:"bg-white rounded-2xl shadow-lg p-8 mt-[80px] md:p-12 min-h-[400px] w-full max-w-[700px] mr-[20px] flex flex-col justify-center h-full transition-all duration-500"},e("div",{className:"flex justify-center gap-4 mb-8"},e("button",{className:`text-2xl font-semibold ${o?"text-[#3F99B4]":"text-gray-300"}`},"Sign In"),e("span",{className:"text-2xl text-gray-300"},"/"),e("button",{className:`text-2xl font-semibold ${o?"text-gray-300":"text-[#3F99B4]"}`},"Sign Up")),e("img",{src:"/images/mrbean-open.webp",alt:"Mr Bean",className:"relative top-[39px] left-[200px] w-48 transform transition-transform duration-300 hover:scale-105 hidden sm:hidden lg:block z-[5]"}),e("form",{onSubmit:l,className:"relative z-[10]"},!o&&e("input",{type:"email",placeholder:"Email",className:"w-full mb-3 bg-[#F2F0F0]  px-4 py-3  rounded-3xl pl-16 border outline-none  focus:border-[#3F99B4]",value:s.email,onInput:c=>i("email",c.target.value),required:!o}),e("input",{type:"text",placeholder:"Username",className:"w-full mb-3 px-4 bg-[#F2F0F0]  py-3  rounded-3xl border outline-none  focus:border-[#3F99B4]",value:s.username,onInput:c=>i("username",c.target.value),required:!0}),e("input",{type:"password",placeholder:"Password",className:"w-full mb-3 px-4 py-3  bg-[#F2F0F0]  rounded-3xl border outline-none  focus:border-[#3F99B4]",value:s.password,onInput:c=>i("password",c.target.value),required:!0}),!o&&e("input",{type:"password",placeholder:"Confirm Password",className:"w-full mb-6 px-4 py-3 bg-[#F2F0F0]   rounded-3xl border outline-none  focus:border-[#3F99B4]",value:s.confirmPassword,onInput:c=>i("confirmPassword",c.target.value),required:!o}),e("button",{type:"submit",className:"w-full bg-[#67A7B9] hover:bg-[#044850] text-white py-3 rounded-3xl font-semibold transition mb-10"},o?"Sign In":"Sign Up")),e("div",{className:"relative w-full max-w-[300px] mb-6 mx-auto"},e("div",{className:"flex gap-6 w-full relative "},e("button",{onClick:n,className:`flex-1 py-2 rounded-full font-semibold transition-all duration-300 relative z-10 ${o?"text-white bg-[#67A7B9]":"text-[#858585] bg-[#F2F0F0]"}`},e("span",{className:"relative z-20"},"Login")),e("button",{onClick:r,className:`flex-1 py-2 rounded-full font-semibold transition-all duration-300 relative z-10 ${o?"text-[#858585] bg-[#F2F0F0]":"text-white bg-[#67A7B9]"}`},e("span",{className:"relative z-20"},"Register")),e("div",{className:"absolute bottom-0 h-full w-[calc(50%-8px)] bg-[#67A7B9] rounded-full transition-all duration-500",style:{left:o?"8px":"calc(50% + 8px)",transitionTimingFunction:"cubic-bezier(0.4,0,0.2,1)"}}))))),e("div",{className:"w-full md:w-1/2 flex items-center justify-center"},e("img",{src:"/images/player_fix.svg",alt:"player",className:"w-full h-full object-contain p-6 md:p-12"}))))},oe=()=>{const o=f(()=>{window.location.href="/api/auth/google"},[]),t=f(()=>{window.location.href="/api/auth/github"},[]),s=f(()=>{window.location.href="/api/auth/intra"},[]);return e("div",{className:"relative w-full min-h-screen overflow-hidden bg-cover bg-center",style:{backgroundImage:"url(/images/bg-login.png)"}},e("nav",{className:"flex items-center w-full justify-between px-4 sm:px-6 md:px-12 py-4 h-20"},e("div",{className:"flex items-center text-white"},e("img",{src:"/images/logo.png",alt:"logo",className:"w-10 h-10 md:w-12 md:h-12"}),e("h2",{className:"text-lg md:text-xl font-[Poppins] italic"},"The Game")),e("div",{className:"hidden md:flex text-[#427970] text-lg md:text-xl font-bold space-x-6 lg:space-x-10"},e("a",{href:"#",className:"hover:text-blue-400 transition"},"Home"),e("a",{href:"#",className:"hover:text-white transition"},"Game"),e("a",{href:"#",className:"hover:text-white transition"},"About"))),e("section",{className:"w-full min-h-[calc(100vh-5rem)] flex flex-col md:flex-row items-center justify-between px-4 sm:px-6 md:px-12 lg:px-20 py-8"},e("div",{className:"w-full px-12 space-y-8 md:w-1/2 text-center md:text-left mt-8 md:mt-0"},e("h1",{className:"text-4xl sm:text-5xl md:text-6xl lg:text-7xl font-extrabold text-[#427970] leading-tight"},"ARE YOU READY"),e("h2",{className:"text-4xl sm:text-5xl md:text-6xl lg:text-7xl font-extrabold text-white leading-tight"},"TO"),e("h2",{className:"text-4xl sm:text-5xl md:text-6xl lg:text-7xl font-extrabold text-[#427970] leading-tight"},"PLAY!!"),e("p",{className:"text-base sm:text-lg md:text-xl text-gray-100 mt-4 max-w-[500px] mx-auto md:mx-0"},"Challenge friends or climb the leaderboard in the ultimate ping pong showdown."),e("div",{className:"flex flex-col items-center md:items-start mt-8 space-y-7 px-4 sm:px-12 md:px-24 lg:px-32 xl:px-48"},e("a",{href:"/login",className:"w-full max-w-[280px] sm:max-w-[300px] md:w-[200px] lg:w-[220px]"},e("button",{className:"border-2 md:border-4 border-white text-white             px-6 sm:px-8 md:px-12 lg:px-16 py-2 md:py-2.5 rounded-full             text-base sm:text-lg md:text-xl font-semibold hover:bg-white             hover:text-[#0A3E61] transition-all duration-300 w-full max-w-[280px]             sm:max-w-[300px] md:w-[200px] lg:w-[220px]"},"Log In")),e("div",{className:"flex gap-8 ml-6"},e("button",{className:"transform transition-all duration-300 hover:scale-110",onClick:o},e("div",{className:"w-8 h-8"},e("img",{src:"/images/Google.svg",alt:"google-icon"}))),e("button",{className:"transform transition-all duration-300 hover:scale-110",onClick:t},e("div",{className:"w-8 h-8"},e("img",{src:"/images/github.svg",alt:"github"}))),e("button",{className:"transform transition-all duration-300 hover:scale-110",onClick:s},e("div",{className:"w-8 h-8"},e("img",{src:"/images/42.svg",alt:"42-icon"})))))),e("div",{className:"w-full md:w-1/2 flex justify-center"},e("div",{className:"rounded-xl w-full max-w-[800px] h-[700px] sm:h-[350px] md:h-[400px]"},e("img",{src:"/images/player_fix.svg",alt:"player.svg"})))))},F=[{id:1,name:"youssef",avatar:"https://cdn.intra.42.fr/users/1b0a76a865862fd567d74d06a2a7baf8/yachtata.jpeg",online:!1},{id:2,name:"najib",avatar:"https://cdn.intra.42.fr/users/7b89b520749f54897c4655ec73c682dc/namoussa.jpeg",online:!0},{id:3,name:"bader",avatar:"https://cdn.intra.42.fr/users/3396ca0db7588fdad017bae90c330b25/bchanaa.jpeg",online:!1}],ie=()=>{const[o,t]=d(!1),[s,a]=d(""),n=B(null);console.log("type:",typeof s,s);const r=(typeof s=="string"?s:"").trim().toLowerCase(),i=r.length>0,l=F.filter(u=>u.online).concat(F.filter(u=>!u.online)).slice(0,5),c=F.filter(u=>u.name.toLowerCase().includes(r));let h=[],g=!1;i?c.length>0?h=c:g=!0:h=l;const x=()=>{t(!1),a("")},C=u=>{u.target===u.currentTarget&&x()};return w(()=>{if(!o)return;const u=D=>{const M=D.target;n.current&&!n.current.contains(M)&&(t(!1),a(""))},T=setTimeout(()=>{document.addEventListener("click",u,!0)},200);return()=>{clearTimeout(T),document.removeEventListener("click",u,!0)}},[o]),e("div",null,e("div",{className:"min-w-0"},e("button",{onClick:()=>{t(!0)},className:"flex items-center gap-2 md:px-3 py-1 overflow-hidden whitespace-nowrap transition-transform duration-200 hover:scale-95"},e("img",{src:"/images/home-assests/search-icon.svg",alt:"search",className:"w-6 h-6 md:w-10 md:h-10"}))),o&&e("div",{className:"fixed inset-0 bg-[#193D47] bg-opacity-70 flex justify-center items-center z-50",onClick:C},e("div",{ref:n,className:"bg-[#64B0C5] w-[500px] p-2 h-[450px] rounded-3xl shadow-lg relative focus:outline-none",onClick:u=>u.stopPropagation()},e("div",{className:"relative w-full"},e("span",{className:"absolute top-[7px] left-0 flex items-center pl-3"},"üîç"),e("input",{type:"text",placeholder:"Search for a player",className:"w-full px-10 pb-3 mb-1 pt-2 placeholder-[#D3DDE3] border-b-[1px] border-[#FFFFFF] bg-transparent text-white focus:outline-none",value:s,onInput:u=>a(u.target.value),spellCheck:!1,autoFocus:!0})),g?e("div",{className:"text-3xl font-irish text-gray-100 mt-40 ml-24"},"No players found!"):e("div",{className:"max-h-[360px] overflow-y-auto pr-1 scrollbar-thin scrollbar-thumb-cyan-300"},e("ul",{className:"space-y-3"},h.map(u=>e("li",{key:u.id,className:"flex ml-5 w-[420px] items-center gap-3 pb-1 border-b border-[#91C7D6]"},e("div",{className:"relative w-14 h-14 flex items-center justify-center bg-no-repeat bg-contain",style:{backgroundImage:u.online?'url("/images/home-assests/cir-online.svg")':'url("/images/home-assests/cir-offline.svg")'}},e("img",{src:u.avatar,alt:"Friend Avatar",className:"w-10 h-10 rounded-full object-cover"})),e("span",{className:"font-irish text-white"},u.name))))))))},V=()=>e("header",{className:"relative flex justify-between items-center  py-3 shadow-md text-white overflow-hidden",style:{backgroundColor:"rgba(94, 156, 171, 0.6)"}},e("div",{className:"absolute inset-0 z-0 flex items-end justify-center pointer-events-none"},e("img",{src:"/images/home-assests/pol-header.png",alt:"Background",className:"absolute -bottom-[8px] lg,md,sm:h-full lg,md,sm:w-full left-1/2 -translate-x-1/2 object-contain opacity-55"})),e("a",{href:"/home",className:"relative z-10 flex items-center left-4 space-x-1"},e("img",{src:"/images/home-assests/logo.png",alt:"logo",className:"w-13 h-[62px]"}),e("h2",{className:"text-xl font-semibold"},"The Game")),e("div",{className:"hidden sm:flex items-center justify-around w-1/2  md:px-2 h-[64px] relative left-12 top-1"},e("nav",{className:"flex gap-3 md:gap-3 flex-none justify-center mr-[180px] min-w-0"},e("div",{className:"min-w-0"},e("button",{className:"flex items-center gap-2   md:px-3 py-1    overflow-hidden whitespace-nowrap transition-transform duration-200 hover:scale-95"},e("a",{onClick:s=>{s.preventDefault(),window.history.pushState({},"","/settings"),window.dispatchEvent(new PopStateEvent("popstate"))}},e("img",{src:"/images/home-assests/setting-icon.svg",alt:"settings"})))),e("div",{className:"relative min-w-0"},e("button",{className:"flex items-center gap-2   md:px-3 py-1    overflow-hidden whitespace-nowrap transition-transform duration-200 hover:scale-95 "},e("img",{src:"/images/home-assests/chat-icon.svg",alt:"chat",className:"w-6 h-6 md:w-10 md:h-10"})),e("span",{className:"absolute top-3 right-5 block h-[6px] w-[6px] rounded-full bg-red-500 transition-transform duration-200 hover:scale-95 "})),e(ie,null),e("div",{className:"min-w-0"},e("button",{className:"flex items-center gap-2   md:px-3 py-1    overflow-hidden whitespace-nowrap transition-transform duration-200 hover:scale-95"},e("img",{src:"/images/home-assests/game-icon.svg",alt:"game",className:"w-6 h-6 md:w-10 md:h-10"})))),e("div",{className:"min-w-0"},e("button",{onClick:async()=>{try{await fetch(`http://${{}.VITE_USER_SERVICE_HOST}:${{}.VITE_USER_SERVICE_PORT}/api/logout`,{method:"POST",credentials:"include"}),window.history.pushState({},"","/login"),window.dispatchEvent(new PopStateEvent("popstate"))}catch(s){console.error("Logout failed:",s),window.history.pushState({},"","/login"),window.dispatchEvent(new PopStateEvent("popstate"))}},className:"flex items-center gap-2    py-1   ml-28 overflow-hidden whitespace-nowrap transition-transform duration-200 hover:scale-95"},e("img",{src:"/images/home-assests/logout-icon.svg",alt:"logout",className:"w-6 h-6 md:w-10 md:h-10"})))),e("div",{className:"sm:hidden z-10"},e("button",{className:"flex items-center gap-2 border px-2 py-1 rounded hover:bg-[#427970]"},e("img",{src:"/images/home-assests/menu-icon.svg",alt:"menu",className:"w-6 h-6"})))),le=()=>{const o=[{time:"13:02",score:"1:1",type:"CLASSIC",status:"LOCKED",team1Avatars:["https://cdn.intra.42.fr/users/7b89b520749f54897c4655ec73c682dc/namoussa.jpeg"],team2Avatars:["https://cdn.intra.42.fr/users/7b89b520749f54897c4655ec73c682dc/namoussa.jpeg"]},{time:"13:02",score:"3:0",type:"SPEED",status:"LIVE",team1Avatars:["https://cdn.intra.42.fr/users/7b89b520749f54897c4655ec73c682dc/namoussa.jpeg"],team2Avatars:["https://cdn.intra.42.fr/users/7b89b520749f54897c4655ec73c682dc/namoussa.jpeg","https://cdn.intra.42.fr/users/7b89b520749f54897c4655ec73c682dc/namoussa.jpeg"]},{time:"13:02",score:"2:5",type:"CLASSIC",status:"LOCKED",team1Avatars:["https://cdn.intra.42.fr/users/7b89b520749f54897c4655ec73c682dc/namoussa.jpeg","https://cdn.intra.42.fr/users/7b89b520749f54897c4655ec73c682dc/namoussa.jpeg"],team2Avatars:["https://cdn.intra.42.fr/users/7b89b520749f54897c4655ec73c682dc/namoussa.jpeg","https://cdn.intra.42.fr/users/7b89b520749f54897c4655ec73c682dc/namoussa.jpeg"]}],t=5,s=[...o.slice(0,t)];for(;s.length<t;)s.push(null);const a=r=>{switch(r){case"CLASSIC":return"text-red-500";case"SPEED":return"text-yellow-400";case"VANISH":return"text-blue-900";case"GOLD":return"text-orange-400";default:return"text-white"}},n=r=>{switch(r){case"LIVE":return"bg-[#6AE4E8] ";case"LOCKED":return"bg-[#6AE4E8]  bg-opacity-55";default:return"bg-[#3A3A3A]"}};return e("aside",{className:"w-full max-w-[320px] sm:max-w-[280px] md:max-w-[290px] p-4  flex flex-col gap-5"},e("button",{className:"w-full h-[105px] mb-12 bg-no-repeat bg-contain bg-center text-white flex items-center justify-center",style:{backgroundImage:"url('/images/home-assests/recent.svg')"}},e("span",{className:"font-irish tracking-wide text-base sm:text-lg md:text-xl pt-3"},"Recent matches")),e("div",{className:"flex flex-col gap-5 -translate-y-9 relative"},s.map((r,i)=>r?e("div",{key:i,className:`rounded-[20px] px-4 py-3 shadow-lg w-full max-w-[270px] h-[135px] flex flex-col text-white ${n(r.status)}`},e("div",{className:"flex justify-between items-center text-xs mb-1"},e("span",{className:"relative -top-3 text-sm"},r.time),r.status==="LIVE"&&e("div",{className:"py-0.5 ml-0"},e("img",{src:"/images/home-assests/live.svg",alt:"Live",className:"w-10 h-10"})),r.status==="LOCKED"&&e("div",{className:"py-0.5 ml-1"},e("img",{src:"/images/home-assests/locked.svg",alt:"Locked",className:"w-10 h-10"})),e("span",{className:`${a(r.type)} font-luckiest text-sm relative -top-3 left-2`},r.type)),e("div",{className:"flex justify-between items-center px-2 py-1 relative -top-5 space-x-2"},e("div",{className:"flex flex-col space-y-0"},r.team1Avatars.map((l,c)=>e("div",{className:"relative w-11 h-11",key:c},e("img",{src:"/images/home-assests/cir-offline.svg",className:"absolute inset-0 w-full h-full z-0"}),e("img",{src:l,className:"absolute inset-[4px] w-[35px] h-[35px] rounded-full object-cover z-10",alt:`Team1-P${c+1}`})))),e("span",{className:"text-3xl font-luckiest relative right-1 top-1"},r.score),e("div",{className:"flex flex-col space-y-0"},r.team2Avatars.map((l,c)=>e("div",{className:"relative w-11 h-11",key:c},e("img",{src:"/images/home-assests/cir-offline.svg",className:"absolute inset-0 w-full h-full z-0"}),e("img",{src:l,className:"absolute inset-[4px] w-[35px] h-[35px] rounded-full object-cover z-10",alt:`Team2-P${c+1}`})))))):e("div",{key:i,className:"rounded-[20px] h-[84px] flex items-center justify-center text-[#C7C6C6]] bg-[#6AE4E8] opacity-55 w-full max-w-[270px]"},e("span",{className:"font-rowdies text-2xl font-bold "},"No Match Found!")))))},ce=()=>{const[o,t]=d(!0);return w(()=>{t(!1)},[100]),e("div",{className:"flex flex-col items-center text-center w-full max-w-[180px] sm:max-w-[200px]"},e("div",{className:"relative w-[90px] h-[90px] sm:w-[110px] sm:h-[110px] md:w-[140px] md:h-[140px] rounded-full flex items-center justify-center"},e("img",{src:o?"/images/home-assests/green-star.svg":"/images/home-assests/gray-star.svg",alt:o?"Active Star":"Inactive Star",className:"absolute top-0 left-1 w-6 sm:w-8 md:w-10 z-20"}),e("img",{src:"/images/home-assests/bg-modes.svg",alt:"Background",className:"absolute top-0 left-0 w-[90px] h-[90px] sm:w-[110px] sm:h-[110px] md:w-[140px] md:h-[140px] z-10 rounded-full"}),e("img",{src:"/images/home-assests/racet.svg",alt:"racet",className:"cursor-pointer absolute w-10 h-10 sm:w-14 sm:h-14 md:w-20 md:h-20 top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 z-20 transition-transform duration-200 hover:scale-110"})),e("span",{className:"text-white font-luckiest text-xs sm:text-sm md:text-lg mt-2"},"CLASSIC"))},me=()=>{const[o,t]=d(!0);return w(()=>{t(!0)},[150]),e("div",{className:"flex flex-col items-center text-center w-full max-w-[180px] sm:max-w-[200px]"},e("div",{className:"relative w-[90px] h-[90px] sm:w-[110px] sm:h-[110px] md:w-[140px] md:h-[140px] rounded-full flex items-center justify-center"},e("img",{src:o?"/images/home-assests/green-star.svg":"/images/home-assests/gray-star.svg",alt:o?"Active Star":"Inactive Star",className:"absolute top-0 left-1 w-6 sm:w-8 md:w-10 z-20"}),e("img",{src:"/images/home-assests/bg-modes.svg",alt:"Background",className:"absolute top-0 left-0 w-[90px] h-[90px] sm:w-[110px] sm:h-[110px] md:w-[140px] md:h-[140px] z-10 rounded-full"}),e("img",{src:"/images/home-assests/speed.svg",alt:"speed",className:"cursor-pointer absolute w-10 h-10 sm:w-14 sm:h-14 md:w-20 md:h-20 top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 z-20 transition-transform duration-200 hover:scale-110"})),e("span",{className:"text-white font-luckiest text-xs sm:text-sm md:text-lg mt-2"},"SPEED"))},ue=()=>{const[o,t]=d(!0);return w(()=>{t(!0)},[150]),e("div",{className:"flex flex-col items-center text-center w-full max-w-[180px] sm:max-w-[200px]"},e("div",{className:"relative w-[90px] h-[90px] sm:w-[110px] sm:h-[110px] md:w-[140px] md:h-[140px] rounded-full flex items-center justify-center"},e("img",{src:o?"/images/home-assests/green-star.svg":"/images/home-assests/gray-star.svg",alt:o?"Active Star":"Inactive Star",className:"absolute top-0 left-1 w-6 sm:w-8 md:w-10 z-20"}),e("img",{src:"/images/home-assests/bg-modes.svg",alt:"Background",className:"absolute top-0 left-0 w-[90px] h-[90px] sm:w-[110px] sm:h-[110px] md:w-[140px] md:h-[140px] z-10 rounded-full"}),e("img",{src:"/images/home-assests/vanish.svg",alt:"vanish",className:"cursor-pointer absolute w-10 h-10 sm:w-14 sm:h-14 md:w-20 md:h-16 top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 z-20 transition-transform duration-200 hover:scale-110"})),e("span",{className:"text-white font-luckiest text-xs sm:text-sm md:text-lg mt-2"},"VANISH"))},de=()=>{const[o,t]=d(!0);return w(()=>{t(!1)},[100]),e("div",{className:"flex flex-col items-center text-center w-full max-w-[180px] sm:max-w-[200px]"},e("div",{className:"relative w-[90px] h-[90px] sm:w-[110px] sm:h-[110px] md:w-[140px] md:h-[140px] rounded-full flex items-center justify-center"},e("img",{src:o?"/images/home-assests/green-star.svg":"/images/home-assests/gray-star.svg",alt:o?"Active Star":"Inactive Star",className:"absolute top-0 left-1 w-6 sm:w-8 md:w-10 z-20"}),e("img",{src:"/images/home-assests/bg-modes.svg",alt:"Background",className:"absolute top-0 left-0 w-[90px] h-[90px] sm:w-[110px] sm:h-[110px] md:w-[140px] md:h-[140px] z-10 rounded-full"}),e("img",{src:"/images/home-assests/gold.svg",alt:"gold",className:"cursor-pointer absolute w-9 h-9 sm:w-14 sm:h-14 md:w-20 md:h-16 top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 z-20 transition-transform duration-200 hover:scale-110"})),e("span",{className:"text-white font-luckiest text-xs sm:text-sm md:text-lg mt-2"},"GOLD"))},pe=()=>e("div",{className:"w-full max-w-7xl mx-auto  sm:px-1 lg:px-8  translate-y-20"},e("button",{className:"w-full max-w-[220px] sm:max-w-[180px] md:max-w-[200px] py-2  md:translate-x-4 sm:py-1 bg-no-repeat bg-contain bg-center text-white flex items-center justify-center",style:{backgroundImage:"url('/images/home-assests/bg-gameMode.svg')"}},e("span",{className:"font-irish font-bold tracking-wide text-sm sm:text-base md:text-sm"},"Games mode")),e("div",{className:"bg-black bg-opacity-25 px-4 sm:px-10 py-9 sm:py-7 rounded-[40px] w-full mt-4 overflow-hidden"},e("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 gap-4 sm:gap-6 justify-items-center"},e(ce,null),e(me,null),e(ue,null),e(de,null))),e("div",{className:"bg-[#59B0B6] bg-opacity-60 px-4 sm:px-6 py-4 sm:py-6 rounded-[30px] w-full mt-4"},e("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 sm:gap-6 justify-items-center"},["classicPts","speedPts","vanishPts","goldPts"].map((o,t)=>e("button",{key:t,className:"w-full max-w-[120px] sm:max-w-[140px] md:max-w-[150px] h-14 bg-no-repeat bg-contain bg-center transition-transform duration-200 hover:scale-110",style:{backgroundImage:`url('/images/home-assests/${o}.svg')`},"aria-label":`${o} Points`}))))),he=()=>e("section",{className:"w-full lg:w-[80%] flex flex-col items-center justify-center relative px-3 sm:px-6 md:px-8 mx-auto"},e("div",{className:"w-full text-white text-center space-y-7 -translate-y-15 lg:-translate-y-9 lg:translate-x-14"},e("h1",{className:"text-3xl sm:text-5xl md:text-6xl lg:text-8xl font-inconsolata fon-bold"},"Welcome Back, Player!"),e("h2",{className:"text-xl sm:text-2xl md:text-3xl lg:text-3xl font-inria font-medium"},"Ready to gaming?"),e("button",{className:`px-10 sm:px-16 py-3 sm:py-4 bg-no-repeat bg-contain bg-center
       text-white font-bold text-lg 
      transition-transform duration-200 hover:scale-95`,style:{backgroundImage:"url('/images/home-assests/bg-button.svg')"}},e("span",{className:"font-irish text-white text-xl sm:text-4xl tracking-wide"},"Start"))),e(pe,null)),ge=(o={})=>{const t=o.friend,s=t.online?"/images/home-assests/cir-online.svg":"/images/home-assests/cir-offline.svg";return e("div",{className:"flex flex-row items-center w-16 translate-y-14"},e("div",{className:"w-20 h-20 relative flex items-center justify-center bg-no-repeat bg-contain",style:{backgroundImage:`url(${s})`}},e("img",{src:t.avatar,alt:"Friend Avatar",className:"w-12 h-12 rounded-full object-cover relative -top-[7px]"})))};function fe(o,t){return Array.from({length:Math.ceil(o.length/t)},(s,a)=>o.slice(a*t,a*t+t))}const xe=()=>{const[o,t]=d([]);w(()=>{(async()=>{try{const n=await fetch("http://localhost:5000/friends");if(!n.ok)throw new Error(`Failed to fetch friends: ${n.status} ${n.statusText}`);const r=await n.json();t(r)}catch(n){console.error("Error fetching friends:",n)}})()},[]);const s=fe(o,2);return o.length===0?e("aside",{className:"w-[25%] p-2 flex flex-col gap-4"},e("div",{className:"relative w-full"},e("button",{className:`h-[50px] w-[260px] py-2 bg-no-repeat bg-contain 
              bg-center text-white relative left-16 top-3`,style:{backgroundImage:"url('/images/home-assests/bg-gameMode.svg')"}},e("span",{className:"font-irish font-bold tracking-wide text-sm sm:text-base md:text-2xl"},"No Friends Online")),e("div",{className:`relative rounded-lg h-[320px] w-[340px]
              bg-no-repeat bg-center bg-[length:340px_330px] translate-x-7 overflow-hidden
              flex items-center justify-center`,style:{backgroundImage:"url('/images/home-assests/bg-online.svg')"}},e("div",{className:"text-white text-center"},e("p",null,"No friends found"))))):e("aside",{className:"w-[25%] p-2 flex flex-col gap-4"},e("div",{className:"relative w-full"},e("button",{className:`h-[50px] w-[260px] py-2 bg-no-repeat bg-contain 
            bg-center text-white relative left-16 top-3`,style:{backgroundImage:"url('/images/home-assests/bg-gameMode.svg')"}},e("span",{className:"font-irish font-bold tracking-wide text-sm sm:text-base md:text-2xl"},"Friends Online")),e("div",{className:`relative rounded-lg h-[320px] w-[340px]
            bg-no-repeat bg-center bg-[length:340px_330px] translate-x-7 overflow-hidden`,style:{backgroundImage:"url('/images/home-assests/bg-online.svg')"}},e("div",{className:"absolute inset-0 ml-4 pr-4 max-w-[300px] overflow-x-auto overflow-y-hidden ",style:{scrollbarWidth:"thin",scrollbarColor:"#64B0C5 transparent",msOverflowStyle:"auto"}},e("div",{className:"flex gap-7 p-4",style:{minWidth:"max-content"}},s.map((a,n)=>e("div",{key:n,className:"flex flex-col gap-4 items-center min-w-[60px] flex-shrink-0"},a.map((r,i)=>e(ge,{friend:r},r.id||`friend-${n}-${i}`)))))))))},be=()=>e("main",{className:"flex h-[calc(100vh-72px)] text-white"},e(le,null),e(he,null),e(xe,null)),ve=()=>(w(()=>{(async()=>{try{const t=await fetch(`http://${{}.VITE_USER_SERVICE_HOST}:${{}.VITE_USER_SERVICE_PORT}/api/users/get/me`,{method:"GET",headers:{"Content-Type":"application/json"}});if(t.ok){const s=await t.json();console.log(`data : ${s}`)}else console.log("1111111111111111111111111111111111111111111111111111data"),window.history.pushState({},"","/login"),window.dispatchEvent(new PopStateEvent("popstate"))}catch{console.log("22222222222222222222222222222222222data "),window.history.pushState({},"","/login"),window.dispatchEvent(new PopStateEvent("popstate"))}})()}),e("div",{className:"relative flex flex-col overflow-hidden h-screen w-screen",style:{backgroundColor:"rgba(94, 156, 171, 0.9)"}},e("div",{className:"absolute inset-0 z-0",style:{backgroundImage:"url(/images/bg-home1.png)",backgroundRepeat:"no-repeat",backgroundSize:"100% 100%"}}),e("div",{className:"relative z-10"},e(V,null),e(be,null)))),we=()=>{const[o,t]=d({id:1,username:"",email:"",birthday:"",location:"",bio:"",avatar:""}),[s,a]=d(null),[n,r]=d(!0),[i,l]=d(""),[c,h]=d(null);w(()=>{fetch(`http://${{}.VITE_USER_SERVICE_HOST}:${{}.VITE_USER_SERVICE_PORT}/api/users/update`).then(p=>p.json()).then(p=>{t(p),a(p),l(p.avatar||"https://cdn.intra.42.fr/users/1b0a76a865862fd567d74d06a2a7baf8/yachtata.jpeg"),r(!1)}).catch(p=>{console.error(p),r(!1)})},[]);const g=p=>{const y=p.target;t({...o,[y.name]:y.value})},x=async()=>{try{const p=new FormData;p.append("username",o.username),p.append("email",o.email),p.append("birthday",o.birthday),p.append("location",o.location),p.append("bio",o.bio),c&&p.append("avatar",c);const y=await fetch(`http://${{}.VITE_USER_SERVICE_HOST}:${{}.VITE_USER_SERVICE_PORT}/api/users/update`,{method:"PUT",body:p});if(!y.ok)throw new Error("Failed to save profile");alert("Profile saved!");const b=await y.json();t(b),a(b),b.avatar&&l(b.avatar),h(null)}catch(p){console.error(p),alert("Error saving profile")}},C=p=>{var U;const b=(U=p.target.files)==null?void 0:U[0];if(b){h(b);const _=new FileReader;_.onload=X=>{var z;const q=(z=X.target)==null?void 0:z.result;l(q)},_.readAsDataURL(b)}},O=()=>{s&&(t(s),l(s.avatar||"https://cdn.intra.42.fr/users/1b0a76a865862fd567d74d06a2a7baf8/yachtata.jpeg"),h(null))};if(n)return e("div",{className:"text-gray-500"},"Loading...");const[u,T]=d({name:"Loading...",email:"",birthday:"",location:"",avatar:"/images/default-avatar.png"}),[D,M]=d(!0),[Ae,P]=d("");return w(()=>{(async()=>{try{M(!0),P("");const y=await fetch(`http://${{}.VITE_USER_SERVICE_HOST}:${{}.VITE_USER_SERVICE_PORT}/api/users/get/me`,{method:"GET",headers:{"Content-Type":"application/json"}});if(y.ok){const b=await y.json();T({name:b.username||"Unknown User",email:b.email||"",birthday:b.birthday||"Not specified",location:b.location||"Not specified",avatar:b.avatar||"https://cdn.intra.42.fr/users/1b0a76a865862fd567d74d06a2a7baf8/yachtata.jpeg"})}else throw new Error(`HTTP error! status: ${y.status}`)}catch(y){console.error("Error fetching profile data:",y),P("Failed to load profile data"),T({name:"Error Loading",email:"",birthday:"Not available",location:"Not available",avatar:"https://cdn.intra.42.fr/users/1b0a76a865862fd567d74d06a2a7baf8/yachtata.jpeg"})}finally{M(!1)}})()},[]),e("div",{className:"min-h-screen"},e("div",{className:"flex gap-5 w-[700px] h-[550px] translate-y-40"},e("div",{className:"bg-white bg-opacity-75 backdrop-blur-sm rounded-2xl p-4 pt-10 flex-1 shadow-xl"},e("div",{className:"flex items-center justify-between mb-8"},e("div",{className:"flex flex-col items-center mb-8"},e("div",{className:"relative w-[140px] h-[140px] mb-1 rounded-full"},e("img",{src:u.avatar,className:"absolute w-32 h-32 rounded-full object-cover z-10",alt:"Avatar",onError:p=>{p.target.src="https://cdn.intra.42.fr/users/1b0a76a865862fd567d74d06a2a7baf8/yachtata.jpeg"}}),e("label",{className:"absolute top-1 right-2 bg-white bg-opacity-65 w-8 h-8 flex items-center justify-center rounded-full cursor-pointer z-20"},e("img",{src:"/images/setting-assests/camera-icone.svg",alt:"camera"}),e("input",{type:"file",accept:"image/*",onChange:C,className:"hidden"})))),e("div",{className:"w-full h-20 flex flex-row gap-24 -translate-y-14 translate-x-18 pl-16"},e("button",{onClick:x,className:`flex items-center justify-center w-[160px]
                 h-[65px] text-white bg-no-repeat 
                 bg-contain bg-center transition-transform 
                 duration-200 hover:scale-95`,style:{backgroundImage:"url('/images/setting-assests/bg-Save.png')"}},e("span",{className:"font-luckiest text-2xl whitespace-nowrap"},"Save")),e("button",{onClick:O,className:`flex items-center justify-center w-[160px] h-[65px]
                 text-white bg-no-repeat 
                 bg-contain bg-center transition-transform 
                 duration-200 hover:scale-95`,style:{backgroundImage:"url('/images/setting-assests/bg-Reset.png')"}},e("span",{className:"font-luckiest text-2xl whitespace-nowrap"},"Reset")))),e("div",{className:"grid gap-2 -translate-y-16"},e("div",{className:"grid grid-cols-2 gap-4"},e("input",{name:"username",value:o.username,onInput:g,className:`w-full bg-[#91BFBF] border-0 rounded-lg 
                px-4 py-2 focus:outline-none focus:ring-2
                 focus:ring-cyan-500 transition-all placeholder-[#FFFFFF] bg-opacity-75`,placeholder:"Username"})),e("div",{className:"grid grid-cols-1 gap-4"},e("input",{name:"email",value:o.email,onInput:g,className:`w-full bg-[#91BFBF] border-0 
                rounded-lg px-4 py-2 focus:outline-none 
                focus:ring-2 focus:ring-cyan-500 transition-all placeholder-[#FFFFFF] bg-opacity-75`,placeholder:"Email"})),e("div",{className:"grid grid-cols-2 gap-4"},e("input",{name:"location",value:o.location,onInput:g,className:`w-full bg-[#91BFBF] border-0 
                  rounded-lg px-4 py-2 focus:outline-none 
                  focus:ring-2 focus:ring-cyan-500 transition-all placeholder-[#FFFFFF] bg-opacity-75`,placeholder:"location"}),e("input",{name:"birthday",value:o.birthday,onInput:g,className:`w-full bg-[#91BFBF] border-0 rounded-lg px-4 
                py-2 focus:outline-none focus:ring-2
                 focus:ring-cyan-500 transition-all placeholder-[#FFFFFF] bg-opacity-75`,placeholder:"Birth Date"})),e("div",{className:"grid grid-cols-1 gap-4"},e("textarea",{name:"bio",value:o.bio,onInput:g,rows:7,className:`w-full bg-[#91BFBF] border-0 
                rounded-lg px-4 py-3 focus:outline-none focus:ring-2 
                focus:ring-cyan-500 transition-all resize-none placeholder-[#FFFFFF] bg-opacity-75`,placeholder:"Bio"})))),e("div",{className:"relative w-[400px] h-[600px] -top-8 shrink-0"},e("div",{className:"w-full h-full rounded-3xl overflow-hidden shadow-xl bg-cover bg-center bg-no-repeat p-6 flex flex-col items-center",style:{backgroundImage:"url('/images/setting-assests/bg-card.png')"}},e("div",{className:"relative pt-[80px] z-10"},e("div",{className:"mt-7 w-44 h-44 ml-9 rounded-full ring-4 ring-[#08BECE] shadow-lg overflow-hidden grid place-items-center"},e("img",{src:u.avatar,alt:"Avatar",className:"w-full h-full object-cover",onError:p=>{p.target.src="https://cdn.intra.42.fr/users/1b0a76a865862fd567d74d06a2a7baf8/yachtata.jpeg"}})),e("div",{className:"mt-6 w-[260px] h-[130px] rounded-xl p-2 bg-[#91BFBF] backdrop-blur-sm border-4 border-[#08BECE] text-white text-left z-10 relative"},e("p",{className:"font-medium mb-1"},u.name||"User Name"),e("p",{className:"text-white/80 text-sm mb-1"},u.birthday||"‚Äî"),e("p",{className:"text-white/70 text-xs mb-1"},u.email||"‚Äî"),e("p",{className:"text-white/70 text-xs"},u.location||"‚Äî")))))))},$=[{id:1,name:"yous",avatar:"https://cdn.intra.42.fr/users/1b0a76a865862fd567d74d06a2a7baf8/yachtata.jpeg",status:"blocked"},{id:2,name:"ssef",avatar:"https://cdn.intra.42.fr/users/1b0a76a865862fd567d74d06a2a7baf8/yachtata.jpeg",status:"accepted"},{id:3,name:"GUY",avatar:"https://cdn.intra.42.fr/users/1b0a76a865862fd567d74d06a2a7baf8/yachtata.jpeg",status:"pending"}];function ye(o,t){return Array.from({length:Math.ceil(o.length/t)},(s,a)=>o.slice(a*t,a*t+t))}const Ne=()=>{const[o,t]=d("all"),s=o==="all"?$:$.filter(r=>r.status===o),a=ye(s,2);function n(r){return r.status==="accepted"?e("div",{className:"flex gap-2"},e("button",{className:`flex items-center justify-center gap-2
           bg-blue-500 text-white px-4 py-1 rounded-full h-[28px]
            hover:bg-blue-600 transition
              rounded-tr-md
              rounded-bl-md
              rounded-tl-xl 
              rounded-br-xl
            `},e("i",{className:"fa-solid fa-user-xmark text-sm"}),"Unfriend"),e("button",{className:`flex items-center justify-center gap-2
           bg-red-500 text-white px-4 py-1 rounded-full h-[28px]
            hover:bg-red-600 transition
              rounded-tr-md
              rounded-bl-md
              rounded-tl-xl 
              rounded-br-xl
            `},e("i",{className:"fa-solid fa-ban text-sm"}),"Block")):r.status==="pending"?e("div",{className:"flex gap-2"},e("button",{className:`flex items-center justify-center gap-2
           bg-green-500 text-white px-4 py-1 rounded-full 
           h-[28px] hover:bg-green-600 transition
              rounded-tr-md
              rounded-bl-md
              rounded-tl-xl 
              rounded-br-xl
           `},e("i",{className:"fa-solid fa-check text-sm"}),"Accept"),e("button",{className:`flex items-center
           justify-center gap-2 bg-cyan-500
            text-white px-4 py-1 rounded-full h-[28px]
             hover:bg-cyan-600 transition
              rounded-tr-md
              rounded-bl-md
              rounded-tl-xl 
              rounded-br-xl
             `},e("i",{className:"fa-solid fa-xmark text-sm"}),"Decline")):r.status==="blocked"?e("button",{className:`flex items-center justify-center gap-1.5
        bg-[#55646C] hover:bg-[#445257]
        text-white text-sm font-medium
        px-3 py-1 h-[28px]
        rounded-tr-md
        rounded-bl-md
          rounded-tl-xl 
          rounded-br-xl
        `},e("i",{className:"fa-solid fa-user-xmark text-xs"}),"Unblock"):null}return e("div",{className:"h-[700px] max-w-[1400px] bg-[#91BFBF] bg-opacity-85 mr-auto mt-12 rounded-xl p-6 pt-12 overflow-x-auto",style:{scrollbarWidth:"thin",scrollbarColor:"#64B0C5 transparent",scrollbarHeight:"hidden"}},e("div",{className:"fixed -mt-9 w-[120px] h-[30px]",style:{backgroundImage:"url('/images/setting-assests/bg-SortBy.svg')",backgroundSize:"cover",backgroundRepeat:"no-repeat",borderRadius:"10px"}},e("select",{value:o,onChange:r=>t(r.target.value),className:"w-full h-full bg-transparent text-white font-luckiest text-base appearance-none pl-6 pt-1 focus:outline-none cursor-pointer",style:{border:"none",backgroundColor:"transparent",WebkitAppearance:"none",MozAppearance:"none"}},e("option",{value:"all",className:"bg-[#5E9CAB] text-white rounded-2xl"},"All"),e("option",{value:"pending",className:"bg-[#5E9CAB] text-white rounded-2xl"},"Pending"),e("option",{value:"accepted",className:"bg-[#5E9CAB] text-white rounded-2xl"},"Accepted"),e("option",{value:"blocked",className:"bg-[#5E9CAB] text-white rounded-2xl"},"Blocked"))),e("div",{className:"grid grid-cols-4 gap-4"},e("div",{className:"flex gap-7 p-4",style:{minWidth:"max-content"}},a.map((r,i)=>e("div",{key:i,className:"flex flex-col gap-4 items-center min-w-[60px] flex-shrink-0"},r.map((l,c)=>e("div",{key:l.id,className:"w-[340px] h-[285px] bg-no-repeat bg-center  p-4 relative",style:{backgroundImage:"url('/images/setting-assests/bg-friends.svg')"}},e("div",{className:"flex flex-col items-center justify-center h-full"},e("div",{className:"relative w-[100px] h-[100px] flex-shrink-0 mb-4"},e("img",{src:l.avatar,className:"w-full h-full rounded-full object-cover border-4 border-white/30",alt:"Avatar"})),e("h3",{className:"text-lg font-bold text-white mb-2"},l.name),e("div",{className:"flex flex-row items-center gap-2"},e("div",{className:""},n(l)))))))))))},G=()=>e("div",{className:"flex flex-col items-center text-center w-full max-w-[100px]"},e("div",{className:"relative w-[40px] h-[40px] rounded-full flex items-center justify-center"},e("img",{src:"/images/home-assests/green-star.svg",alt:"Active Star",className:"absolute top-0 left-0 w-4 z-20"}),e("img",{src:"/images/home-assests/bg-modes.svg",alt:"Background",className:"absolute top-0 left-0 w-[40px] h-[40px] z-10 rounded-full"}),e("img",{src:"/images/home-assests/racet.svg",alt:"racet",className:"cursor-pointer absolute w-5 h-5 top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 z-20 transition-transform duration-200 hover:scale-110"})),e("span",{className:"text-white font-luckiest text-xs mt-2"},"CLASSIC")),W=()=>e("div",{className:"flex flex-col items-center text-center w-full max-w-[100px]"},e("div",{className:"relative w-[40px] h-[40px] rounded-full flex items-center justify-center"},e("img",{src:"/images/home-assests/green-star.svg",alt:"Active Star",className:"absolute top-0 left-0 w-4 z-20"}),e("img",{src:"/images/home-assests/bg-modes.svg",alt:"Background",className:"absolute top-0 left-0 w-[40px] h-[40px] z-10 rounded-full"}),e("img",{src:"/images/home-assests/speed.svg",alt:"speed",className:"cursor-pointer absolute w-5 h-5 top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 z-20 transition-transform duration-200 hover:scale-110"})),e("span",{className:"text-white font-luckiest text-xs mt-2"},"SPEED")),Q=()=>e("div",{className:"flex flex-col items-center text-center w-full max-w-[100px]"},e("div",{className:"relative w-[40px] h-[40px] rounded-full flex items-center justify-center"},e("img",{src:"/images/home-assests/green-star.svg",alt:"Active Star",className:"absolute top-0 left-0 w-4 z-20"}),e("img",{src:"/images/home-assests/bg-modes.svg",alt:"Background",className:"absolute top-0 left-0 w-[40px] h-[40px] z-10 rounded-full"}),e("img",{src:"/images/home-assests/gold.svg",alt:"gold",className:"cursor-pointer absolute w-5 h-5 top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 z-20 transition-transform duration-200 hover:scale-110"})),e("span",{className:"text-white font-luckiest text-xs mt-2"},"GOLD")),K=()=>e("div",{className:"flex flex-col items-center text-center w-full max-w-[100px]"},e("div",{className:"relative w-[40px] h-[40px] rounded-full flex items-center justify-center"},e("img",{src:"/images/home-assests/green-star.svg",alt:"Active Star",className:"absolute top-0 left-0 w-4 z-20"}),e("img",{src:"/images/home-assests/bg-modes.svg",alt:"Background",className:"absolute top-0 left-0 w-[40px] h-[40px] z-10 rounded-full"}),e("img",{src:"/images/home-assests/vanish.svg",alt:"vanish",className:"cursor-pointer absolute w-5 h-5 top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 z-20 transition-transform duration-200 hover:scale-110"})),e("span",{className:"text-white font-luckiest text-xs mt-2"},"VANISH")),Ce=()=>e("div",{className:"grid grid-cols-3  h-[650px] px-5  overflow-x-auto mt-14"},[{id:1,time:"12:30",type:"SPEED",player1:{name:"YOUSSEF",avatar:"https://cdn.intra.42.fr/users/1b0a76a865862fd567d74d06a2a7baf8/yachtata.jpeg",score:7},player2:{name:"AHMED",avatar:"https://cdn.intra.42.fr/users/1b0a76a865862fd567d74d06a2a7baf8/yachtata.jpeg",score:4}},{id:2,time:"14:45",type:"GOLD",player1:{name:"ALI",avatar:"https://cdn.intra.42.fr/users/1b0a76a865862fd567d74d06a2a7baf8/yachtata.jpeg",score:3},player2:{name:"OMAR",avatar:"https://cdn.intra.42.fr/users/1b0a76a865862fd567d74d06a2a7baf8/yachtata.jpeg",score:5}},{id:3,time:"16:20",type:"CLASSIC",player1:{name:"NAJIB",avatar:"https://cdn.intra.42.fr/users/1b0a76a865862fd567d74d06a2a7baf8/yachtata.jpeg",score:6},player2:{name:"LINA",avatar:"https://cdn.intra.42.fr/users/1b0a76a865862fd567d74d06a2a7baf8/yachtata.jpeg",score:8}},{id:4,time:"18:30",type:"VANISH",player1:{name:"HAMZA",avatar:"https://cdn.intra.42.fr/users/1b0a76a865862fd567d74d06a2a7baf8/yachtata.jpeg",score:9},player2:{name:"NAMOUSSA",avatar:"https://cdn.intra.42.fr/users/1b0a76a865862fd567d74d06a2a7baf8/yachtata.jpeg",score:2}},{id:5,time:"19:15",type:"SPEED",player1:{name:"HASSAN",avatar:"https://cdn.intra.42.fr/users/1b0a76a865862fd567d74d06a2a7baf8/yachtata.jpeg",score:5},player2:{name:"NADIA",avatar:"https://cdn.intra.42.fr/users/1b0a76a865862fd567d74d06a2a7baf8/yachtata.jpeg",score:8}},{id:6,time:"20:45",type:"GOLD",player1:{name:"KARIM",avatar:"https://cdn.intra.42.fr/users/1b0a76a865862fd567d74d06a2a7baf8/yachtata.jpeg",score:6},player2:{name:"SARA",avatar:"https://cdn.intra.42.fr/users/1b0a76a865862fd567d74d06a2a7baf8/yachtata.jpeg",score:4}}].slice(0,6).map((t,s)=>{const a=t.player1.score>t.player2.score?t.player1:t.player2,n=t.player1.score>t.player2.score?t.player2:t.player1;return e("button",{key:`${t.id}-${s}`,className:"relative flex opacity-95 flex-col justify-center items-center space-y-5 h-[330px] w-[350px] text-white bg-no-repeat bg-contain bg-center flex-shrink-0",style:{backgroundImage:"url('/images/setting-assests/Vector.svg')"}},e("div",{className:"absolute inset-0 bg-no-repeat bg-contain bg-center",style:{backgroundImage:"url('/images/setting-assests/Vector.svg')"}}),e("div",{className:"absolute top-2 right-4 flex flex-col items-center z-20"},e("img",{src:"/images/setting-assests/time.svg",alt:"time",className:"w-8 h-8 transition-transform duration-200 hover:scale-95"}),e("span",{className:"font-luckiest text-sm pt-1 whitespace-nowrap"},t.time)),e("div",{className:"absolute top-3 left-7 w-14 h-14 flex flex-col items-center z-20"},(()=>{const r=t.type==="SPEED"?W:t.type==="GOLD"?Q:t.type==="CLASSIC"?G:t.type==="VANISH"?K:null;return r?e(r,null):null})()),e("div",{className:"bg-[#6EC2B4] w-[250px] rounded-full h-[60px] flex items-center gap-2 z-10"},e("div",{className:"relative w-[60px] h-[60px] flex-shrink-0"},e("img",{src:"/images/home-assests/cir-online.svg",className:"absolute inset-0 w-full h-full z-0",alt:"Online circle"}),e("img",{src:a.avatar,className:"absolute inset-[8px] w-11 h-11 rounded-full object-cover z-10",alt:"Avatar"})),e("h2",{className:"text-lg font-bold truncate max-w-[120px] text-white"},a.name.toUpperCase()),e("span",{className:"text-lg font-bold ml-auto pr-4 text-white"},a.score)),e("div",{className:"bg-[#828282] w-[250px] rounded-full h-[60px] flex items-center gap-2  bg-opacity-65 z-10"},e("div",{className:"relative w-[60px] h-[60px] flex-shrink-0"},e("img",{src:"/images/home-assests/cir-online.svg",className:"absolute inset-0 w-full h-full z-0",alt:"Online circle"}),e("img",{src:n.avatar,className:"absolute inset-[8px] w-11 h-11 rounded-full object-cover z-10",alt:"Avatar"})),e("h2",{className:"text-lg font-bold truncate max-w-[120px] text-white"},n.name.toUpperCase()),e("span",{className:"text-lg font-bold ml-auto pr-4 text-white"},n.score)))})),Ee=()=>e("div",null,e("button",{className:"flex flex-row h-[300px] px-5 gap-20 pb-4"},e("button",{className:"flex flex-col justify-center items-center w-[180px] text-white bg-no-repeat bg-contain bg-center",style:{backgroundImage:"url('/images/setting-assests/bg-greenOve.svg')"}},e("img",{src:"/images/setting-assests/gagne.svg",alt:"Add",className:"w-8 h-8 transition-transform duration-200 hover:scale-95"}),e("span",{className:"font-luckiest text-3xl pt-2 whitespace-nowrap"},"320"),e("span",{className:"text-sm whitespace-nowrap"},"Matches Won")),e("button",{className:"flex flex-col justify-center items-center w-[180px] text-white bg-no-repeat bg-contain bg-center",style:{backgroundImage:"url('/images/setting-assests/bg-greenOve.svg')"}},e("img",{src:"/images/setting-assests/star.svg",alt:"Add",className:"w-10 h-10 transition-transform duration-200 hover:scale-95"}),e("span",{className:"font-luckiest text-3xl pt-2 whitespace-nowrap"},"200"),e("span",{className:"text-sm whitespace-nowrap"},"Leader board Position")),e("button",{className:"flex flex-col justify-center items-center w-[180px] text-white bg-no-repeat bg-contain bg-center",style:{backgroundImage:"url('/images/setting-assests/bg-greenOve.svg')"}},e("img",{src:"/images/setting-assests/unlucky.svg",alt:"Add",className:"w-10 h-10 transition-transform duration-200 hover:scale-95"}),e("span",{className:"font-luckiest text-3xl pt-2 whitespace-nowrap"},"12"),e("span",{className:"text-sm whitespace-nowrap"},"Matches Losses")),e("button",{className:"flex flex-col justify-center items-center w-[180px] text-white bg-no-repeat bg-contain bg-center",style:{backgroundImage:"url('/images/setting-assests/bg-greenOve.svg')"}},e("img",{src:"/images/setting-assests/unlocked.svg",alt:"Add",className:"w-10 h-10 transition-transform duration-200 hover:scale-95"}),e("span",{className:"font-luckiest text-3xl pt-2 whitespace-nowrap"},"9"),e("span",{className:"text-sm whitespace-nowrap break-words"},"Unlocked Achievements")),e("button",{className:"flex flex-col justify-center items-center w-[180px] text-white bg-no-repeat bg-contain bg-center",style:{backgroundImage:"url('/images/setting-assests/bg-greenOve.svg')"}},e("img",{src:"/images/setting-assests/sales.svg",alt:"Add",className:"w-12 h-12 transition-transform duration-200 hover:scale-95"}),e("span",{className:"font-luckiest text-3xl pt-2 whitespace-nowrap"},"450"),e("span",{className:"text-sm whitespace-nowrap"},"Total Pts"))),e("div",{className:"-mt-10 pl-9 -space-y-4"},e("h1",{className:"font-luckiest text-lg pt-2 whitespace-nowrap text-white"},"HIGHLIGHTED MATCHES"),e("h3",{className:"pt-2 text-sm text-gray-200"},"Best matches played")),e("div",{className:"flex flex-row h-[450px] px-5 gap-12 overflow-x-auto mt-16 ml-0"},[{id:1,time:"12:30",type:"SPEED",player1:{name:"YOUSSEF",avatar:"https://cdn.intra.42.fr/users/1b0a76a865862fd567d74d06a2a7baf8/yachtata.jpeg",score:7},player2:{name:"AHMED",avatar:"https://cdn.intra.42.fr/users/1b0a76a865862fd567d74d06a2a7baf8/yachtata.jpeg",score:4}},{id:2,time:"14:45",type:"GOLD",player1:{name:"ALI",avatar:"https://cdn.intra.42.fr/users/1b0a76a865862fd567d74d06a2a7baf8/yachtata.jpeg",score:3},player2:{name:"OMAR",avatar:"https://cdn.intra.42.fr/users/1b0a76a865862fd567d74d06a2a7baf8/yachtata.jpeg",score:5}},{id:3,time:"16:20",type:"CLASSIC",player1:{name:"najib",avatar:"https://cdn.intra.42.fr/users/1b0a76a865862fd567d74d06a2a7baf8/yachtata.jpeg",score:6},player2:{name:"LINA",avatar:"https://cdn.intra.42.fr/users/1b0a76a865862fd567d74d06a2a7baf8/yachtata.jpeg",score:8}}].slice(0,3).map(t=>{const s=t.player1.score>t.player2.score?t.player1:t.player2,a=t.player1.score>t.player2.score?t.player2:t.player1;return e("button",{key:t.id,className:"relative flex opacity-95 flex-col justify-center items-center space-y-5 h-[330px]  w-[380px] text-white bg-no-repeat bg-contain bg-center flex-shrink-0",style:{backgroundImage:"url('/images/setting-assests/Vector.svg')"}},e("div",{className:"absolute top-4 right-4 flex flex-col items-center"},e("img",{src:"/images/setting-assests/time.svg",alt:"time",className:"w-8 h-8 transition-transform duration-200 hover:scale-95"}),e("span",{className:"font-luckiest text-sm pt-1 whitespace-nowrap"},t.time)),e("div",{className:"bg-[#6EC2B4] w-[250px] rounded-full h-[60px] flex items-center gap-2"},e("div",{className:"relative w-[60px] h-[60px] flex-shrink-0"},e("img",{src:"/images/home-assests/cir-online.svg",className:"absolute inset-0 w-full h-full z-0",alt:"Online circle"}),e("img",{src:s.avatar,className:"absolute inset-[8px] w-11 h-11 rounded-full object-cover z-10",alt:"Avatar"})),e("h2",{className:"text-lg font-bold truncate max-w-[120px] text-white"},s.name.toUpperCase()),e("span",{className:"text-lg font-bold ml-auto pr-4 text-white"},s.score)),e("div",{className:"bg-[#828282] w-[250px] rounded-full h-[60px] flex items-center gap-2 bg-opacity-65"},e("div",{className:"relative w-[60px] h-[60px] flex-shrink-0"},e("img",{src:"/images/home-assests/cir-online.svg",className:"absolute inset-0 w-full h-full z-0",alt:"Online circle"}),e("img",{src:a.avatar,className:"absolute inset-[8px] w-11 h-11 rounded-full object-cover z-10",alt:"Avatar"})),e("h2",{className:"text-lg font-bold truncate max-w-[120px] text-white"},a.name.toUpperCase()),e("span",{className:"text-lg font-bold ml-auto pr-4 text-white"},a.score)),e("div",{className:"w-14  h-14  absolute top-1 left-10 flex flex-col items-center "},(()=>{const n=t.type==="SPEED"?W:t.type==="GOLD"?Q:t.type==="CLASSIC"?G:t.type==="VANISH"?K:null;return n?e(n,null):null})()))}))),ke=()=>{const[o,t]=d({name:"Loading...",email:"",aboutMe:"Loading profile information...",birthday:"",location:"",avatar:"/images/default-avatar.png"}),[s,a]=d(!0),[n,r]=d("");return w(()=>{(async()=>{try{a(!0),r("");const l=await fetch(`http://${{}.VITE_USER_SERVICE_HOST}:${{}.VITE_USER_SERVICE_PORT}/api/users/get/me`,{method:"GET",headers:{"Content-Type":"application/json"}});if(l.ok){const c=await l.json();t({name:c.username||"Unknown User",email:c.email||"",aboutMe:c.bio||"No bio available",birthday:c.birthday||"Not specified",location:c.location||"Not specified",avatar:c.avatar||"https://cdn.intra.42.fr/users/1b0a76a865862fd567d74d06a2a7baf8/yachtata.jpeg"})}else throw new Error(`HTTP error! status: ${l.status}`)}catch(l){console.error("Error fetching profile data:",l),r("Failed to load profile data"),t({name:"Error Loading",email:"",aboutMe:"Could not load profile information. Please try refreshing the page.",birthday:"Not available",location:"Not available",avatar:"https://cdn.intra.42.fr/users/1b0a76a865862fd567d74d06a2a7baf8/yachtata.jpeg"})}finally{a(!1)}})()},[]),e("aside",{className:"w-[30%] h-full p-2"},e("div",{className:"w-[310px] h-[740px] bg-[#5E9CAB] rounded-xl bg-opacity-35 text-white p-3 shadow-lg relative ml-9 mt-10"},e("div",{className:"flex flex-col items-center text-center w-full pr-20"},e("div",{className:"flex items-center justify-center gap-2 w-full"},e("div",{className:"relative w-[85px] h-[85px] flex-shrink-0"},e("img",{src:"/images/home-assests/cir-online.svg",className:"absolute inset-0 w-full h-full z-0",alt:"Online circle"}),e("img",{src:o.avatar,className:"absolute inset-[10px] w-16 h-16 rounded-full object-cover z-10",alt:"Avatar",onError:i=>{i.target.src="https://cdn.intra.42.fr/users/1b0a76a865862fd567d74d06a2a7baf8/yachtata.jpeg"}})),e("h2",{className:"text-2xl font-bold truncate max-w-[120px]"},s?"Loading...":o.name)),e("button",{className:"mt-2 flex items-center justify-between px-6 py-1 w-[180px] text-white bg-no-repeat bg-contain bg-center",style:{backgroundImage:"url('/images/setting-assests/bg-add-friends.svg')"}},e("span",{className:"font-luckiest text-base pt-2 whitespace-nowrap"},"ADD AS FRIEND"),e("img",{src:"/images/setting-assests/plus-friends.svg",alt:"Add",className:"w-8 h-8 ml-4 transition-transform duration-200 hover:scale-95"}))),e("div",{className:"mt-16 space-y-4 pl-7"},e("h3",{className:"text-lg font-bold mb-2"},"About me"),s?e("div",{className:"animate-pulse"},e("div",{className:"h-4 bg-white/20 rounded mb-2"}),e("div",{className:"h-4 bg-white/20 rounded w-3/4"})):n?e("p",{className:"text-sm text-red-200 break-words"},n):e("p",{className:"text-sm text-gray-200 break-words"},o.aboutMe)),e("div",{className:"mt-6 space-y-2 text-sm pl-5"},e("div",{className:"flex items-center gap-2"},e("img",{src:"/images/setting-assests/birthday.svg",alt:"Birthday",className:"w-8 h-8"}),e("span",{className:"text-white"},s?"Loading...":o.birthday)),e("div",{className:"flex items-center gap-2"},e("img",{src:"/images/setting-assests/location.svg",alt:"Location",className:"w-8 h-8"}),e("span",{className:"text-white"},s?"Loading...":o.location)))))},Se=o=>{const{defaultTab:t="matchHistory"}=o||{},[s,a]=d(t);w(()=>{a(t)},[t]);const n=()=>{switch(s){case"profile":return e(we,null);case"friends":return e(Ne,null);case"matchHistory":return e(Ce,null);case"overview":return e(Ee,null);default:return null}},r=(i,l)=>{l.preventDefault(),a(i),window.history.pushState({},"",`/settings/${i}`),window.dispatchEvent(new PopStateEvent("popstate"))};return e("div",{className:"flex h-[calc(100vh-72px)]"},e(ke,null),e("main",{className:"w-full flex flex-col "},e("nav",{className:"flex  flex-none gap-8 min-w-0 pt-16  pl-5"},e("button",{onClick:i=>r("overview",i),style:{backgroundImage:`url('/images/setting-assests/${s==="overview"?"bg-active.svg":"bg-noactive.svg"}')`},className:"flex items-center justify-between px-6  w-[130px] text-white bg-no-repeat bg-contain bg-center"},e("span",{className:"font-luckiest text-sm pt-2 whitespace-nowrap"},"Overview")),e("button",{onClick:i=>r("friends",i),style:{backgroundImage:`url('/images/setting-assests/${s==="friends"?"bg-active.svg":"bg-noactive.svg"}')`},className:"flex items-center justify-between px-6 py-1 w-[130px] text-white bg-no-repeat bg-contain bg-center"},e("span",{className:"font-luckiest text-sm pt-2 whitespace-nowrap"},"Friends")),e("button",{onClick:i=>r("matchHistory",i),className:"flex items-center justify-between px-6 py-1 w-[130px] text-white bg-no-repeat bg-contain bg-center",style:{backgroundImage:`url('/images/setting-assests/${s==="matchHistory"?"bg-active.svg":"bg-noactive.svg"}')`}},e("span",{className:"font-luckiest text-sm pt-2 whitespace-nowrap"},"Match History")),e("button",{onClick:i=>r("profile",i),className:"flex items-center justify-between px-6 py-1 w-[130px] text-white bg-no-repeat bg-contain bg-center",style:{backgroundImage:`url('/images/setting-assests/${s==="profile"?"bg-active.svg":"bg-noactive.svg"}')`}},e("span",{className:"font-luckiest text-sm pt-2 whitespace-nowrap"},"Edit Profile"))),e("div",{className:"flex-1 w-full"},n())))},A=o=>{const{defaultTab:t="matchHistory"}=o||{};return w(()=>{(async()=>{try{const a=await fetch(`http://${{}.VITE_USER_SERVICE_HOST}:${{}.VITE_USER_SERVICE_PORT}/api/users/get/me`,{method:"GET",headers:{"Content-Type":"application/json"}});if(a.ok){const n=await a.json();console.log(`data : ${n}`)}else console.log("1111111111111111111111111111111111111111111111111111data"),window.history.pushState({},"","/login"),window.dispatchEvent(new PopStateEvent("popstate"))}catch{console.log("22222222222222222222222222222222222data "),window.history.pushState({},"","/login"),window.dispatchEvent(new PopStateEvent("popstate"))}})()}),e("div",{className:"relative flex flex-col overflow-hidden h-screen w-screen",style:{backgroundColor:"rgba(94, 156, 171, 0.9)"}},e("div",{className:"absolute inset-0 z-0",style:{backgroundImage:"url(/images/bg-home1.png)",backgroundRepeat:"no-repeat",backgroundSize:"100% 100%"}}),e("div",{className:"relative z-10"},e(V,null),e(Se,{defaultTab:t})))};class Ie{constructor(t={containerId:"app"}){m(this,"router");m(this,"config");m(this,"state");m(this,"performanceMonitor");m(this,"hooksManager");m(this,"renderer");m(this,"activeComponents",[]);this.config={enableDevTools:!1,enablePerformanceMonitoring:!0,cacheSize:1e3,...t},this.state={initialized:!1,loading:!1,error:null,currentRoute:"/"},this.hooksManager=E.getInstance(),this.renderer=j.getInstance(),this.router=new ae(this.config.containerId),this.router.setCleanupCallback(()=>this.cleanupActiveComponents())}async start(){if(this.state.initialized){console.warn("App already initialized");return}this.state.loading=!0;try{this.setupRoutes(),this.config.enablePerformanceMonitoring&&this.setupPerformanceMonitoring(),this.config.enableDevTools&&this.setupDevTools(),this.router.start(),this.state.currentRoute=this.router.getCurrentRoute(),this.state={...this.state,initialized:!0,loading:!1,error:null},console.log("Application started successfully")}catch(t){this.state.error=t instanceof Error?t.message:"Unknown error",this.state.loading=!1,console.error("Application startup failed:",t),this.renderErrorState()}}async stop(){console.log("Stopping application..."),this.performanceMonitor&&this.performanceMonitor(),N.cancelUpdates(),this.router.destroy(),this.cleanupActiveComponents();try{await this.cleanupServices()}catch(t){console.error("App stop failed:",t)}this.state={initialized:!1,loading:!1,error:null,currentRoute:"/"}}async cleanupServices(){try{console.log(`i am in cleanupSrevices
`)}catch(t){console.warn("Service cleanup error:",t)}}createClassComponent(t,s={}){var n;const a=new t(s);return(n=this.trackComponentForCleanup)==null||n.call(this,a),a}createFunctionalComponent(t,s={}){this.renderer;const a=this.hooksManager;class n extends H{constructor(){super(...arguments);m(this,"_currentVNode",null)}render(){a.setCurrentComponent(this);try{const l=t(s);return console.log(" FUNCTIONAL COMPONENT: Generated VNode",l),l}finally{}}setState(l,c){super.setState(l,c)}componentDidMount(){console.log("FUNCTIONAL COMPONENT: Mounted")}componentDidUpdate(){console.log("FUNCTIONAL COMPONENT: Updated")}componentWillUnmount(){console.log("FUNCTIONAL COMPONENT: Will unmount")}}return new n}trackComponentForCleanup(t){this.activeComponents.push(t)}cleanupActiveComponents(){this.activeComponents.forEach(t=>{t.isMountedComponent()&&t.unmount()}),this.activeComponents=[]}setupRoutes(){console.log("Setting up routes..."),this.router.addRoute("/counter",()=>this.createFunctionalComponent(te,{initialCount:1})),this.router.addRoute("/settings",()=>this.createFunctionalComponent(A,{defaultTab:"profile"})),this.router.addRoute("/settings/profile",()=>this.createFunctionalComponent(A,{defaultTab:"profile"})),this.router.addRoute("/settings/friends",()=>this.createFunctionalComponent(A,{defaultTab:"friends"})),this.router.addRoute("/settings/matchHistory",()=>this.createFunctionalComponent(A,{defaultTab:"matchHistory"})),this.router.addRoute("/settings/overview",()=>this.createFunctionalComponent(A,{defaultTab:"overview"})),this.router.addRoute("/login",()=>this.createFunctionalComponent(re)),this.router.addRoute("/",()=>this.createFunctionalComponent(oe)),this.router.addRoute("/home",()=>this.createFunctionalComponent(ve)),this.router.addRoute("/pinlog",()=>this.createFunctionalComponent(se)),console.log("Routes configured")}createPlaceholderComponent(t){class s extends H{render(){const n=document.createElement("div");return n.className="placeholder-component p-8 text-center",n.innerHTML=`
          <h1 class="text-3xl font-bold mb-4">${t} REgex Page</h1>
          <p class="text-gray-600">This is a placeholder for the ${t} component.</p>
          <p class="text-sm text-gray-500 mt-4">Replace this with your actual ${t} component.</p>
        `,n}}return new s}setupPerformanceMonitoring(){this.performanceMonitor=N.startMonitoring(3e4),this.config.enableDevTools&&setInterval(()=>{const t=N.getMetrics();t.updateCount>0&&(console.group("üîç Performance Metrics"),console.table(t),console.groupEnd())},6e4)}setupDevTools(){window.__FRAMEWORK_DEVTOOLS__={app:this,router:this.router,hooksManager:this.hooksManager,renderer:this.renderer,performanceOptimizer:N,getState:()=>console.table(this.state),getConfig:()=>console.table(this.config),getMetrics:()=>console.table(N.getMetrics()),clearCache:()=>N.clearMemoCache(),restart:()=>this.restart(),debug:{enableVerboseLogging:()=>{window.__FRAMEWORK_DEBUG__=!0},triggerUpdate:()=>{N.scheduleUpdate(()=>{console.log("Manual update triggered")})},inspectComponent:t=>{console.log("Component inspection:",{hooks:this.hooksManager.getCurrentComponentHooks(),element:t.element,state:t.state,props:t.props})}}},console.log("üîß Development tools available at window.__FRAMEWORK_DEVTOOLS__"),console.log("üêõ Available commands:"),console.log("  - __FRAMEWORK_DEVTOOLS__.getMetrics() - Get performance metrics"),console.log("  - __FRAMEWORK_DEVTOOLS__.clearCache() - Clear memoization cache"),console.log("  - __FRAMEWORK_DEVTOOLS__.restart() - Restart application"),console.log("  - __FRAMEWORK_DEVTOOLS__.debug.* - Debug utilities"),console.log("     ---> enableVerboseLogging"),console.log("     ---> triggerUpdate"),console.log("     ---> inspectComponent(component: any)")}async restart(){console.log("üîÑ Restarting application..."),await this.stop(),await this.start()}renderErrorState(){const t=document.getElementById(this.config.containerId);t&&(t.innerHTML=`
        <div class="error-state p-8 text-center bg-red-50 border border-red-200 rounded-lg">
          <h1 class="text-2xl font-bold text-red-800 mb-4">Application Error</h1>
          <p class="text-red-700 mb-4">${this.state.error}</p>
          <button 
            onclick="location.reload()" 
            class="px-4 py-2 bg-red-600 text-white rounded hover:bg-red-700"
          >
            Refresh Page
          </button>
        </div>
      `)}getState(){return{...this.state}}getConfig(){return{...this.config}}}document.addEventListener("DOMContentLoaded",async()=>{new WebSocket("ws://localhost:8001/api/users/online-tracker");try{await new Ie({containerId:"app",enableDevTools:!0,enablePerformanceMonitoring:!0}).start()}catch(o){console.error("Failed to start application:",o)}});
